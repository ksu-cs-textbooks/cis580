




	
	
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.117.0">
    <meta name="generator" content="Relearn 5.18.0">
    <meta name="description" content="K-State CIS 580 Textbook">
    <meta name="author" content="Nathan H. Bean">
    <title>Model Basics :: K-State CIS 580 Textbook</title>
    <link href="https://ksu-cs-textbooks.github.io/cis580/16-models/02-model-basics/index.html" rel="canonical" type="text/html" title="Model Basics :: K-State CIS 580 Textbook">
    <link href="https://ksu-cs-textbooks.github.io/cis580/16-models/02-model-basics/index.xml" rel="alternate" type="application/rss+xml" title="Model Basics :: K-State CIS 580 Textbook">
    <link href="https://ksu-cs-textbooks.github.io/cis580/16-models/02-model-basics/tele.html" rel="alternate" type="text/html" title="Model Basics :: K-State CIS 580 Textbook">
    <link href="https://ksu-cs-textbooks.github.io/cis580/16-models/02-model-basics/embed.html" rel="alternate" type="text/html" title="Model Basics :: K-State CIS 580 Textbook">
    <!-- https://github.com/filamentgroup/loadCSS/blob/master/README.md#how-to-use -->
    <link href="https://ksu-cs-textbooks.github.io/cis580/css/fontawesome-all.min.css?1691771331" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="https://ksu-cs-textbooks.github.io/cis580/css/fontawesome-all.min.css?1691771331" rel="stylesheet"></noscript>
    <link href="https://ksu-cs-textbooks.github.io/cis580/css/nucleus.css?1691771331" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cis580/css/auto-complete.css?1691771331" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="https://ksu-cs-textbooks.github.io/cis580/css/auto-complete.css?1691771331" rel="stylesheet"></noscript>
    <link href="https://ksu-cs-textbooks.github.io/cis580/css/perfect-scrollbar.min.css?1691771331" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cis580/css/fonts.css?1691771331" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="https://ksu-cs-textbooks.github.io/cis580/css/fonts.css?1691771331" rel="stylesheet"></noscript>
    <link href="https://ksu-cs-textbooks.github.io/cis580/css/theme.css?1691771331" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cis580/css/theme-auto.css?1691771331" rel="stylesheet" id="variant-style">
    <link href="https://ksu-cs-textbooks.github.io/cis580/css/variant.css?1691771331" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cis580/css/print.css?1691771331" rel="stylesheet" media="print">
    <link href="https://ksu-cs-textbooks.github.io/cis580/css/format-print.css?1691771331" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cis580/css/ie.css?1691771331" rel="stylesheet">
    <script src="https://ksu-cs-textbooks.github.io/cis580/js/url.js?1691771331"></script>
    <script src="https://ksu-cs-textbooks.github.io/cis580/js/variant.js?1691771331"></script>
    <script>
      // hack to let hugo tell us how to get to the root when using relativeURLs, it needs to be called *url= for it to do its magic:
      // https://github.com/gohugoio/hugo/blob/145b3fcce35fbac25c7033c91c1b7ae6d1179da8/transform/urlreplacers/absurlreplacer.go#L72
      window.index_js_url="https://ksu-cs-textbooks.github.io/cis580/index.search.js";
      var root_url="https://ksu-cs-textbooks.github.io/cis580/";
      var baseUri=root_url.replace(/\/$/, '');
      // translations
      window.T_Copy_to_clipboard = 'Copy to clipboard';
      window.T_Copied_to_clipboard = 'Copied to clipboard!';
      window.T_Copy_link_to_clipboard = 'Copy link to clipboard';
      window.T_Link_copied_to_clipboard = 'Copied link to clipboard!';
      window.T_No_results_found = 'No results found for \u0022{0}\u0022';
      window.T_N_results_found = '{1} results found for \u0022{0}\u0022';
      // some further base stuff
      var baseUriFull='https:\/\/ksu-cs-textbooks.github.io\/cis580/';
      window.variants && variants.init( [ 'auto', 'light-theme', 'dark-theme' ] );
    </script>
    
    <link href="https://ksu-cs-textbooks.github.io/cis580/css/custom.css?1691771331" rel="stylesheet">

  </head>
  <body class="mobile-support print disableInlineCopyToClipboard" data-url="https://ksu-cs-textbooks.github.io/cis580/16-models/02-model-basics/index.html">
    <div id="body" class="default-animation">
      <div id="sidebar-overlay"></div>
      <div id="toc-overlay"></div>
      <nav id="topbar" class="highlightable">
        <div>
          <div id="top-tele-link">
            <a class="print-link" title='Teleprompter View' href="https://ksu-cs-textbooks.github.io/cis580/16-models/02-model-basics/tele.html">
              <i class="fas fa-tv fa-fw"></i>
            </a>
          </div>
          <div id="top-embed-link">
            <a class="print-link" title='Embeddable Version' href="https://ksu-cs-textbooks.github.io/cis580/16-models/02-model-basics/embed.html">
              <i class="fas fa-expand-arrows-alt fa-fw"></i>
            </a>
          </div>
          <div id="breadcrumbs">
            <span id="sidebar-toggle-span">
              <a href="#" id="sidebar-toggle" class="topbar-link" title='Menu (CTRL+ALT+n)'><i class="fas fa-bars fa-fw"></i></a>
            </span>
            <ol class="links" itemscope itemtype="http://schema.org/BreadcrumbList">
              <li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><a itemprop="item" href="https://ksu-cs-textbooks.github.io/cis580/index.html"><span itemprop="name">CIS 580: Foundations of Game Programming</span></a><meta itemprop="position" content="1"> &gt; </li>
              <li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><a itemprop="item" href="https://ksu-cs-textbooks.github.io/cis580/16-models/index.html"><span itemprop="name">Models</span></a><meta itemprop="position" content="2"> &gt; </li>
              <li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><span itemprop="name">Model Basics</span><meta itemprop="position" content="3"></li>
            </ol>
          </div>
        </div>
      </nav>
      <main id="body-inner" class="highlightable default" tabindex="-1">
        <div class="flex-block-wrapper">
          <article class="default">
            <header class="headline">
            </header>
<h1 id="model-basics">Model Basics</h1>

<p>A <em>model</em> is a collection of the information that defines a 3D object. Rather than being hand-created or hard-coded (as we have done in our previous work), a model is usually created using 3D modeling software (i.e. Blender, 3D Studio, Maya, etc).  Instead of exposing the raw data of the meshes, these software packages provide an abstraction, often based on real-world sculpting techniques or constructive geometry transformations that assist artists in creating complex three-dimensional shapes.</p>
<p>As programmers, our interaction with models typically begins with the data exported from one of these programs as a file.  In our starter project&rsquo;s <em>Content</em> folder, we have one of these files, <em>tank.fbx</em>.  This particular format is text-based (not binary), so you can open it up in a text editor and look at its contents.  There are 3388 lines in the file - definitely more than we want to write.</p>
<p>There are many possible file formats for storing models, and each may include different information in different ways.  However, most will contain:</p>
<ol>
<li>A collection of meshes, defining the different parts of a model.  These meshes are typically laid out as triangle lists with vertex and index data</li>
<li>A collection of textures, which are applied to the meshes.  The textures may be embedded within the file, or be externally referenced (for our example, they are externally referenced).</li>
<li>A collection of &ldquo;bones&rdquo; - transformation matrices which place the different model meshes relative to one another.  Each bone also has a parent bone, allowing you to create hierarchical relationships between the meshes.</li>
<li>Material information used to render the meshes (i.e. data for Phong shading, or sometimes complete shaders)</li>
</ol>
<p>In addition, model files may contain alternative meshes to swap in and out (like different armors for a fantasy knight), and animations.</p>
<h2 id="loading-a-model">Loading a Model</h2>
<p>The XNA Framework provides a <a href="https://www.monogame.net/documentation/?page=T_Microsoft_Xna_Framework_Graphics_Model" target="_blank">Model</a>
 class that is an relatively basic implementation of the main features we just discussed (it captures points 1-4, but no animation data).  As with most content files, it is instantiated through the content pipeline using the <a href="https://www.monogame.net/docs/html/T_Microsoft_Xna_Framework_Content_Pipeline_FbxImporter.html" target="_blank">FBXImporter</a>
 and <a href="https://www.monogame.net/docs/html/T_Microsoft_Xna_Framework_Content_Pipeline_Processors_ModelProcessor.html" target="_blank">ModelProcessor</a>
.</p>
<p>Unfortunately, the only file format directly supported by the core XNA Framework is the <a href="https://www.autodesk.com/products/fbx/overview" target="_blank">Autodesk FBX exchange format</a>
, and only the a handful of <em>specific versions</em> that were in existance when XNA was first created.  This is not to say that you cannot write custom importers and/or processors to handle other file formats, but the FBX format remains the only one supported by the core MonoGame install.</p>
<p>Let&rsquo;s try loading a model in our example game.  We&rsquo;ll need to add a <code>Model</code> field to our <code>Game1</code> class:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>    <span style="color:#75715e">// A class representing our tank model</span>
</span></span><span style="display:flex;"><span>    Model tank;</span></span></code></pre></div><p>Load the model in our <code>Game1.LoadContent()</code> method:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>    <span style="color:#75715e">// Create the tank</span>
</span></span><span style="display:flex;"><span>    tank = Content.Load&lt;Model&gt;(<span style="color:#e6db74">&#34;tank&#34;</span>);</span></span></code></pre></div><p>And render it in our <code>Game1.Draw()</code> method:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>    <span style="color:#75715e">// Draw the tank</span>
</span></span><span style="display:flex;"><span>    tank.Draw(Matrix.Identity, camera.View, camera.Projection);</span></span></code></pre></div><p>Note we need to provide a world, view, and projection matrix to the model to draw it.</p>
<p>If we run the game now, you should see the tank on (actually a bit <em>in</em>) the terrain:</p>
<p>
<a href="#image-b5252e89c2e076a88ef91956a70e2ada" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cis580/images/models-2.1.png" alt="The Rendered Model" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-b5252e89c2e076a88ef91956a70e2ada">
<img src="https://ksu-cs-textbooks.github.io/cis580/images/models-2.1.png" alt="The Rendered Model" class="lightbox-image" loading="lazy">
</a></p>
<p>But, that is about the extent of the functionality offered to us by the <code>Model</code> class.  Much like the <code>Texture2D</code>, it is simply providing us with the data from a content file in a more manageable format.  But as with the <code>Texture2D</code>, we will only use that as a starting point for doing some really interesting things.</p>
<p>Let&rsquo;s start that exploration by defining our own class to use this model.</p>

            <footer class="footline">

            </footer>
          </article>


        </div>
      </main>
    
<div class="git-footer">
<p class="theme-version-footer">5.18.0</p>
<p>Last modified by: 
            <i class='fas fa-user'></i> Russell Feldhausen
            <i class='fas fa-calendar'></i> <a href="https://gitlab.cs.ksu.edu/cs-textbooks/cis580-textbook/-/commit/43f194969a638fa4572819da4b31060ad574a9ce">Aug 11, 2023</a>
</p>
</div>

    
    </div>
    <script src="https://ksu-cs-textbooks.github.io/cis580/js/clipboard.min.js?1691771332" defer></script>
    <script src="https://ksu-cs-textbooks.github.io/cis580/js/perfect-scrollbar.min.js?1691771332" defer></script>
    <script src="https://ksu-cs-textbooks.github.io/cis580/js/theme.js?1691771332" defer></script>
  </body>
</html>
