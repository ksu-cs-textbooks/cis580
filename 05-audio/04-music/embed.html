




	
	
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.117.0">
    <meta name="generator" content="Relearn 5.18.0">
    <meta name="description" content="K-State CIS 580 Textbook">
    <meta name="author" content="Nathan H. Bean">
    <title>Music :: K-State CIS 580 Textbook</title>
    <link href="https://ksu-cs-textbooks.github.io/cis580/05-audio/04-music/index.html" rel="canonical" type="text/html" title="Music :: K-State CIS 580 Textbook">
    <link href="https://ksu-cs-textbooks.github.io/cis580/05-audio/04-music/index.xml" rel="alternate" type="application/rss+xml" title="Music :: K-State CIS 580 Textbook">
    <link href="https://ksu-cs-textbooks.github.io/cis580/05-audio/04-music/index.print.html" rel="alternate" type="text/html" title="Music :: K-State CIS 580 Textbook">
    <link href="https://ksu-cs-textbooks.github.io/cis580/05-audio/04-music/tele.html" rel="alternate" type="text/html" title="Music :: K-State CIS 580 Textbook">
    <!-- https://github.com/filamentgroup/loadCSS/blob/master/README.md#how-to-use -->
    <link href="https://ksu-cs-textbooks.github.io/cis580/css/fontawesome-all.min.css?1691771330" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="https://ksu-cs-textbooks.github.io/cis580/css/fontawesome-all.min.css?1691771330" rel="stylesheet"></noscript>
    <link href="https://ksu-cs-textbooks.github.io/cis580/css/nucleus.css?1691771330" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cis580/css/auto-complete.css?1691771330" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="https://ksu-cs-textbooks.github.io/cis580/css/auto-complete.css?1691771330" rel="stylesheet"></noscript>
    <link href="https://ksu-cs-textbooks.github.io/cis580/css/perfect-scrollbar.min.css?1691771330" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cis580/css/fonts.css?1691771330" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="https://ksu-cs-textbooks.github.io/cis580/css/fonts.css?1691771330" rel="stylesheet"></noscript>
    <link href="https://ksu-cs-textbooks.github.io/cis580/css/theme.css?1691771330" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cis580/css/theme-auto.css?1691771330" rel="stylesheet" id="variant-style">
    <link href="https://ksu-cs-textbooks.github.io/cis580/css/variant.css?1691771330" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cis580/css/print.css?1691771330" rel="stylesheet" media="print">
    <link href="https://ksu-cs-textbooks.github.io/cis580/css/ie.css?1691771330" rel="stylesheet">
    <script src="https://ksu-cs-textbooks.github.io/cis580/js/url.js?1691771330"></script>
    <script src="https://ksu-cs-textbooks.github.io/cis580/js/variant.js?1691771330"></script>
    <script>
      // hack to let hugo tell us how to get to the root when using relativeURLs, it needs to be called *url= for it to do its magic:
      // https://github.com/gohugoio/hugo/blob/145b3fcce35fbac25c7033c91c1b7ae6d1179da8/transform/urlreplacers/absurlreplacer.go#L72
      window.index_js_url="https://ksu-cs-textbooks.github.io/cis580/index.search.js";
      var root_url="https://ksu-cs-textbooks.github.io/cis580/";
      var baseUri=root_url.replace(/\/$/, '');
      // translations
      window.T_Copy_to_clipboard = 'Copy to clipboard';
      window.T_Copied_to_clipboard = 'Copied to clipboard!';
      window.T_Copy_link_to_clipboard = 'Copy link to clipboard';
      window.T_Link_copied_to_clipboard = 'Copied link to clipboard!';
      window.T_No_results_found = 'No results found for \u0022{0}\u0022';
      window.T_N_results_found = '{1} results found for \u0022{0}\u0022';
      // some further base stuff
      var baseUriFull='https:\/\/ksu-cs-textbooks.github.io\/cis580/';
      window.variants && variants.init( [ 'auto', 'light-theme', 'dark-theme' ] );
    </script>
    
    <link href="https://ksu-cs-textbooks.github.io/cis580/css/custom.css?1691771330" rel="stylesheet">

  </head>
  <body class="mobile-support embed disableInlineCopyToClipboard" data-url="https://ksu-cs-textbooks.github.io/cis580/05-audio/04-music/embed.html">
    <div id="body" class="default-animation">
      
      
      
      <main id="body-inner" class="highlightable default" tabindex="-1">
        <div class="flex-block-wrapper">
          <article class="default">
    
    
    
<p>Music also has a powerful role to play in setting the mood.  It can also be used to convey information to the player, as <em>Super Mario Bros</em> does when the remaining time to finish the level falls below 1 minute.</p>
<h3 id="song-class">Song Class</h3>
<p>While it is possible to play music using a <code>SoundEffect</code>,
MonoGame supports music through the <a href="https://docs.monogame.net/api/Microsoft.Xna.Framework.Media.Song.html" target="_blank"><code>Song</code></a>
 class.  This represents a song loaded from a wav or mp4 file.</p>
<p>In addition to the audio data, the <code>Song</code> defines properties for accessing the audio file&rsquo;s metadata:</p>
<ul>
<li><code>Name</code> is the name of the song</li>
<li><code>Album</code> is the album the song is from</li>
<li><code>Artist</code> is the song&rsquo;s artist</li>
<li><code>Duration</code> is the length of the song.</li>
<li><code>Genre</code> is the genre of the song</li>
<li><code>TrackNumber</code> is song&rsquo;s track number on its album</li>
</ul>
<p>Note that for these properties to be populated, the original audio file would need to have the corresponding metadata set.</p>
<p>Unlike the <code>SoundEffect</code>, the <code>Song</code> class does not have a play method.  Instead it is played with the static <a href="https://docs.monogame.net/api/Microsoft.Xna.Framework.Media.MediaPlayer.html" target="_blank"><code>MediaPlayer</code></a>
 class, i.e.:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>Song song = Content.Load&lt;Song&gt;(<span style="color:#e6db74">&#34;mysong&#34;</span>);
</span></span><span style="display:flex;"><span>MediaPlayer.Play(song);</span></span></code></pre></div><h3 id="songcollection-class">SongCollection Class</h3>
<p>Invoking <code>MediaPlayer.Play()</code> will <em>immediately end the current song</em>, so if you want your game to transition between songs smoothly, you&rsquo;ll probably want to use the <a href="https://docs.monogame.net/api/Microsoft.Xna.Framework.Media.SongCollection.html" target="_blank"><code>SongCollection</code></a>
 class.</p>
<p>As you might expect, this is a collection of <code>Song</code> objects, and implements methods:</p>
<ul>
<li><code>Add(Song song)</code> adds a song to the collection</li>
<li><code>Clear()</code> clears the collection.</li>
</ul>
<p><code>SongCollections</code> can also be played with the static <code>MediaPlayer.Play(SongCollection collection)</code> method:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>Song song1 = Content.Load&lt;Song&gt;(<span style="color:#e6db74">&#34;song1&#34;</span>);
</span></span><span style="display:flex;"><span>Song song2 = Content.Load&lt;Song&gt;(<span style="color:#e6db74">&#34;song2&#34;</span>);
</span></span><span style="display:flex;"><span>Song song3 = Content.Load&lt;Song&gt;(<span style="color:#e6db74">&#34;song3&#34;</span>);
</span></span><span style="display:flex;"><span>SongCollection songCollection = <span style="color:#66d9ef">new</span> SongCollection();
</span></span><span style="display:flex;"><span>songCollection.Add(song1);
</span></span><span style="display:flex;"><span>songCollection.Add(song2);
</span></span><span style="display:flex;"><span>songCollection.Add(song3);
</span></span><span style="display:flex;"><span>MediaPlayer.Play(songCollection);</span></span></code></pre></div><h3 id="the-mediaplayer-class">The MediaPlayer Class</h3>
<p>The static <code>MediaPlayer</code> class is really an interface to the Windows Media Player.  Unlike the <code>SoundEffect</code> class, which communicates directly with the sound card and manipulates audio buffers, songs are piped through the Windows Media Player.  Hence, the reason <code>MediaPlayer</code> can only play a single song at a time.</p>
<p>Some of the most useful properties of the <code>MediaPlayer</code> for games are:</p>
<ul>
<li><code>IsMuted</code> - A boolean property that can be used to mute or unmute the game&rsquo;s music</li>
<li><code>Volume</code> - A number between 0 (silent) and 1 (full volume) that the music will play at</li>
<li><code>IsRepeating</code> - A boolean property that determines if the song or song list should repeat</li>
<li><code>IsShuffled</code> - A boolean property that determines if a song list should be played in a shuffled order</li>
<li><code>State</code> - A value of the <a href="https://docs.monogame.net/api/Microsoft.Xna.Framework.Media.MediaState.html" target="_blank"><code>MediaState</code></a>
 enum, describing the current state of the media player, which can be <code>MediaState.Paused</code>, <code>MediaState.Playing</code>, or <code>MediaState.Stopped</code>.</li>
</ul>
<p>Much like you would expect from a media playing device, the <code>MediaPlayer</code> also implements some familiar controls as methods:</p>
<ul>
<li><code>Play(Song song)</code> and <code>Play(SongList songList)</code> play the specified song or song list.</li>
<li><code>Pause()</code> pauses the currently playing song</li>
<li><code>Resume()</code> resumes a paused song</li>
<li><code>Stop()</code> stops playing the current song</li>
<li><code>MoveNext()</code> moves to the next song in the song list</li>
<li><code>MovePrevious()</code> moves to the previous song in the song list</li>
</ul>
<p>In addition, the <code>MediaPlayer</code> implements two events that may be useful:</p>
<ul>
<li><code>ActiveSongChanged</code> - triggered when the active song changes</li>
<li><code>MediaStateChanged</code> - triggered when the media state changes</li>
</ul>

  
  
<div class="box notices cstyle info">
  <div class="box-label"><i class="fa-fw fas fa-info-circle"></i> Info</div>
  <div class="box-content">

<p>This section only touches on the classes, methods and properties of the <code>Microsoft.Xna.Framework.Media</code> namespace most commonly used in games.  Because it is a wrapper around the Windows Media Player, it is also possible to access and play the users&rsquo; songs and playlists that have been added to Windows Media Player.  Refer to the MonoGame documentation for more details.</p>
</div>
</div>

            <footer class="footline">

            </footer>
          </article>
        </div>
      </main>
    </div>
    
    
    
    <script src="https://ksu-cs-textbooks.github.io/cis580/js/clipboard.min.js?1691771330" defer></script>
    <script src="https://ksu-cs-textbooks.github.io/cis580/js/perfect-scrollbar.min.js?1691771330" defer></script>
    <script src="https://ksu-cs-textbooks.github.io/cis580/js/theme.js?1691771330" defer></script>
  </body>
</html>
