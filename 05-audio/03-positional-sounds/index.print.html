<!DOCTYPE html>
<html lang="en-us" dir="ltr" itemscope itemtype="http://schema.org/Article" data-r-output-format="print">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.128.0">
    <meta name="generator" content="Relearn 8.0.0">
    <meta name="description" content="Positional sounds provide the illusion of depth and movement by using panning, doppler shift, and other techniques to emulate the affect movement and distance have on sounds. Positional sounds can convey important information in games, especially when combined with surround-sound speakers and headphones.
To create positional sound effects, we need to place the sound in a 3D (or pseudo 2D) soundscape, which incorporates both a listener (i.e. the player) and an emitter (the source of the sound).">
    <meta name="author" content="Nathan H. Bean">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="https://textbooks.cs.ksu.edu/cis580/images/hero.png">
    <meta name="twitter:title" content="Positional Sounds :: K-State CIS 580 Textbook">
    <meta name="twitter:description" content="Positional sounds provide the illusion of depth and movement by using panning, doppler shift, and other techniques to emulate the affect movement and distance have on sounds. Positional sounds can convey important information in games, especially when combined with surround-sound speakers and headphones.
To create positional sound effects, we need to place the sound in a 3D (or pseudo 2D) soundscape, which incorporates both a listener (i.e. the player) and an emitter (the source of the sound).">
    <meta property="og:url" content="https://textbooks.cs.ksu.edu/cis580/05-audio/03-positional-sounds/index.html">
    <meta property="og:site_name" content="K-State CIS 580 Textbook">
    <meta property="og:title" content="Positional Sounds :: K-State CIS 580 Textbook">
    <meta property="og:description" content="Positional sounds provide the illusion of depth and movement by using panning, doppler shift, and other techniques to emulate the affect movement and distance have on sounds. Positional sounds can convey important information in games, especially when combined with surround-sound speakers and headphones.
To create positional sound effects, we need to place the sound in a 3D (or pseudo 2D) soundscape, which incorporates both a listener (i.e. the player) and an emitter (the source of the sound).">
    <meta property="og:locale" content="en_us">
    <meta property="og:type" content="article">
    <meta property="article:section" content="Audio">
    <meta property="article:published_time" content="2018-08-24T10:53:26-05:00">
    <meta property="article:modified_time" content="2023-08-14T11:41:07-05:00">
    <meta property="og:image" content="https://textbooks.cs.ksu.edu/cis580/images/hero.png">
    <meta itemprop="name" content="Positional Sounds :: K-State CIS 580 Textbook">
    <meta itemprop="description" content="Positional sounds provide the illusion of depth and movement by using panning, doppler shift, and other techniques to emulate the affect movement and distance have on sounds. Positional sounds can convey important information in games, especially when combined with surround-sound speakers and headphones.
To create positional sound effects, we need to place the sound in a 3D (or pseudo 2D) soundscape, which incorporates both a listener (i.e. the player) and an emitter (the source of the sound).">
    <meta itemprop="datePublished" content="2018-08-24T10:53:26-05:00">
    <meta itemprop="dateModified" content="2023-08-14T11:41:07-05:00">
    <meta itemprop="wordCount" content="871">
    <meta itemprop="image" content="https://textbooks.cs.ksu.edu/cis580/images/hero.png">
    <title>Positional Sounds :: K-State CIS 580 Textbook</title>
    <link href="https://textbooks.cs.ksu.edu/cis580/05-audio/03-positional-sounds/index.html" rel="canonical" type="text/html" title="Positional Sounds :: K-State CIS 580 Textbook">
    <link href="/cis580/05-audio/03-positional-sounds/index.xml" rel="alternate" type="application/rss+xml" title="Positional Sounds :: K-State CIS 580 Textbook">
    <link href="/cis580/05-audio/03-positional-sounds/tele.html" rel="alternate" type="text/html" title="Positional Sounds :: K-State CIS 580 Textbook">
    <link href="/cis580/05-audio/03-positional-sounds/embed.html" rel="alternate" type="text/html" title="Positional Sounds :: K-State CIS 580 Textbook">
    <link href="/cis580/css/auto-complete/auto-complete.min.css?1755628803" rel="stylesheet">
    <script src="/cis580/js/auto-complete/auto-complete.min.js?1755628803" defer></script>
    <script src="/cis580/js/search-lunr.min.js?1755628803" defer></script>
    <script src="/cis580/js/search.min.js?1755628803" defer></script>
    <script>
      window.relearn = window.relearn || {};
      window.relearn.index_js_url="/cis580/searchindex.en.js?1755628803";
    </script>
    <script src="/cis580/js/lunr/lunr.min.js?1755628803" defer></script>
    <script src="/cis580/js/lunr/lunr.stemmer.support.min.js?1755628803" defer></script>
    <script src="/cis580/js/lunr/lunr.multi.min.js?1755628803" defer></script>
    <script src="/cis580/js/lunr/lunr.en.min.js?1755628803" defer></script>
    <script>
      window.relearn = window.relearn || {};
      window.relearn.contentLangs=['en'];
    </script>
    <link href="/cis580/fonts/fontawesome/css/fontawesome-all.min.css?1755628803" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/cis580/fonts/fontawesome/css/fontawesome-all.min.css?1755628803" rel="stylesheet"></noscript>
    <link href="/cis580/css/perfect-scrollbar/perfect-scrollbar.min.css?1755628803" rel="stylesheet">
    <link href="/cis580/css/theme.min.css?1755628803" rel="stylesheet">
    <link href="/cis580/css/format-print.min.css?1755628803" rel="stylesheet" id="R-format-style">
    <script>
      window.relearn = window.relearn || {};
      // configuration
      window.relearn.min = `.min`;
      window.relearn.path='\/05-audio\/03-positional-sounds\/index.html';
      window.relearn.relBasePath='..\/..';
      window.relearn.relBaseUri='..\/..\/..';
      window.relearn.absBaseUri='https:\/\/textbooks.cs.ksu.edu\/cis580';
      window.relearn.disableAnchorCopy=false;
      window.relearn.disableAnchorScrolling=false;
      window.relearn.disableInlineCopyToClipboard=true;
      window.relearn.enableBlockCodeWrap=false;
      // legal
      window.relearn.getItem = (s,n) => {return s.getItem(n)};
      window.relearn.setItem = (s,n,v) => {return s.setItem(n,v)};
      window.relearn.removeItem = (s,n) => {return s.removeItem(n)};
      // translations
      window.T_Copy_to_clipboard = `Copy to clipboard`;
      window.T_Copied_to_clipboard = `Copied to clipboard!`;
      window.T_Copy_link_to_clipboard = `Copy link to clipboard`;
      window.T_Link_copied_to_clipboard = `Copied link to clipboard!`;
      window.T_Reset_view = `Reset view`;
      window.T_View_reset = `View reset!`;
      window.T_No_results_found = `No results found for "{0}"`;
      window.T_N_results_found = `{1} results found for "{0}"`;
      // variant stuff
      window.relearn.themevariants = [ 'light-theme' ];
      window.relearn.customvariantname = "my-custom-variant";
      // [x] russfeld
      window.relearn.writeVariant=false;
      window.relearn.changeVariant = function(variant) {
        var oldVariant = document.documentElement.dataset.rThemeVariant;
        window.relearn.setItem(window.localStorage, window.relearn.absBaseUri + "/variant", variant);
        document.documentElement.dataset.rThemeVariant = variant;
        if (oldVariant != variant) {
          document.dispatchEvent( new CustomEvent('themeVariantLoaded', { detail: { variant, oldVariant } }) );
          window.relearn.markVariant();
        }
      }
      window.relearn.markVariant = function() {
        var variant = window.relearn.getItem(window.localStorage, window.relearn.absBaseUri + "/variant");
        document.querySelectorAll(".R-variantswitcher select").forEach((select) => {select.value = variant;});
      }
      window.relearn.initVariant = function() {
        var variant = window.relearn.getItem(window.localStorage, window.relearn.absBaseUri + "/variant") ?? "";
        if( variant == window.relearn.customvariantname ){
        }else if( !variant || !window.relearn.themevariants.includes(variant) ){
          variant = window.relearn.themevariants[0];
          
          if (window.relearn.writeVariant) {
            window.relearn.setItem(window.localStorage, window.relearn.absBaseUri + "/variant", variant);
          }
        }
        document.documentElement.dataset.rThemeVariant = variant;
      }
      window.relearn.initVariant();
      window.relearn.markVariant();
    </script>
    <link href="/cis580/css/custom.css?1755628803" rel="stylesheet">
  </head>
  <body class="mobile-support print" data-url="/cis580/05-audio/03-positional-sounds/index.html">
    <div id="R-body" class="default-animation">
      <div id="R-body-overlay"></div>
      <nav id="R-topbar">
        <div class="topbar-wrapper">
          <div class="topbar-sidebar-divider"></div>
          <div class="topbar-area topbar-area-start" data-area="start">
            <div class="topbar-button topbar-button-sidebar" data-content-empty="disable" data-width-s="show" data-width-m="hide" data-width-l="hide"><button class="topbar-control" onclick="toggleNav()" type="button" title="Menu (CTRL&#43;ALT&#43;n)"><i class="fa-fw fas fa-bars"></i></button>
            </div>
            <div class="topbar-button topbar-button-toc" data-content-empty="hide" data-width-s="show" data-width-m="show" data-width-l="show"><button class="topbar-control" onclick="toggleTopbarFlyout(this)" type="button" title="Table of Contents (CTRL&#43;ALT&#43;t)"><i class="fa-fw fas fa-list-alt"></i></button>
              <div class="topbar-content">
                <div class="topbar-content-wrapper">
<nav class="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#audiolistener-class">AudioListener Class</a></li>
        <li><a href="#audioemitter-class">AudioEmitter Class</a></li>
        <li><a href="#playing-positional-sound">Playing Positional Sound</a></li>
        <li><a href="#using-positional-sound-in-a-2d-game">Using Positional Sound in a 2D Game</a></li>
      </ul>
    </li>
  </ul>
</nav>
                </div>
              </div>
            </div>
          </div>
          <ol class="topbar-breadcrumbs breadcrumbs highlightable" itemscope itemtype="http://schema.org/BreadcrumbList"><li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement" class="a11y-only"><a itemprop="item" href="/cis580/index.html"><span itemprop="name">CIS 580: Foundations of Game Programming</span></a><meta itemprop="position" content="1">&nbsp;>&nbsp;</li><li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement" class=""><a itemprop="item" href="/cis580/05-audio/index.html"><span itemprop="name">Audio</span></a><meta itemprop="position" content="2">&nbsp;>&nbsp;</li><li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement" class=""><span itemprop="name">Positional Sounds</span><meta itemprop="position" content="3"></li>
          </ol>
          <div class="topbar-area topbar-area-end" data-area="end">
            <div class="topbar-button topbar-button-edit" data-content-empty="disable" data-width-s="area-more" data-width-m="show" data-width-l="show"><a class="topbar-control" href="https://github.com/ksu-cs-textbooks/cis580/edit/master/content/05-audio/03-positional-sounds.md" rel="external" target="_blank" title="Edit (CTRL+ALT+w)"><i class="fa-fw fas fa-pen"></i></a>
            </div>
            <div class="topbar-button topbar-button-print" data-content-empty="disable" data-width-s="area-more" data-width-m="show" data-width-l="show"><a class="topbar-control" href="/cis580/05-audio/03-positional-sounds/index.print.html" title="Print whole chapter (CTRL+ALT+p)"><i class="fa-fw fas fa-print"></i></a>
            </div>
            <div class="topbar-button topbar-button-prev" data-content-empty="disable" data-width-s="show" data-width-m="show" data-width-l="show"><a class="topbar-control" href="/cis580/05-audio/02-sound-effects/index.html" title="Sound Effects (🡐)"><i class="fa-fw fas fa-chevron-left"></i></a>
            </div>
            <div class="topbar-button topbar-button-next" data-content-empty="disable" data-width-s="show" data-width-m="show" data-width-l="show"><a class="topbar-control" href="/cis580/05-audio/04-music/index.html" title="Music (🡒)"><i class="fa-fw fas fa-chevron-right"></i></a>
            </div>
            <div class="topbar-button topbar-button-more" data-content-empty="hide" data-width-s="show" data-width-m="show" data-width-l="show"><button class="topbar-control" onclick="toggleTopbarFlyout(this)" type="button" title="More"><i class="fa-fw fas fa-ellipsis-v"></i></button>
              <div class="topbar-content">
                <div class="topbar-content-wrapper">
                  <div class="topbar-area topbar-area-more" data-area="more">
            <div class="topbar-button topbar-button-embed" data-content-empty="disable" data-width-s="area-more" data-width-m="show" data-width-l="show"><a class="topbar-control" href="/cis580/05-audio/03-positional-sounds/embed.html" title="Embeddable Version"><i class="fa-fw fas fa-expand-arrows-alt"></i></a>
            </div>
            <div class="topbar-button topbar-button-tele" data-content-empty="disable" data-width-s="area-more" data-width-m="show" data-width-l="show"><a class="topbar-control" href="/cis580/05-audio/03-positional-sounds/tele.html" title="Teleprompter View"><i class="fa-fw fas fa-tv"></i></a>
            </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </nav>
      <div id="R-main-overlay"></div>
      <main id="R-body-inner" class="highlightable 05-audio" tabindex="-1">
        <div class="flex-block-wrapper">
<article class="default">
  <header class="headline">
  </header>

<h1 id="positional-sounds">Positional Sounds</h1>

<p>Positional sounds provide the illusion of depth and movement by using panning, doppler shift, and other techniques to emulate the affect movement and distance have on sounds.  Positional sounds can convey important information in games, especially when combined with surround-sound speakers and headphones.</p>
<p>To create positional sound effects, we need to place the sound in a 3D (or pseudo 2D) soundscape, which incorporates both a <em>listener</em> (i.e. the player) and an <em>emitter</em> (the source of the sound).  Consider the example soundscape below:</p>
<p><a href="#R-image-430adbb18281120e0dea15b61807dc5d" class="lightbox-link"><img alt="An example soundscape" class="border lazy lightbox figure-image" loading="lazy" src="/cis580/images/5.3.1.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-430adbb18281120e0dea15b61807dc5d"><img alt="An example soundscape" class="border lazy lightbox lightbox-image" loading="lazy" src="/cis580/images/5.3.1.png"></a></p>
<p>We have two sound effects, one played by <em>emitter A</em> and one by <em>emitter B</em>, and the player is represented by the <em>listener</em>.  If we imagine the listener is facing downwards, we would expect that the sound from emitter A will play more on the right speaker, and emitter B on the left (given stereo speakers).  For a surround sound system, these would be further distinguished by playing on the <em>front</em> speakers.</p>
<p>In addition to determining which speaker(s) a sound is played with, positional sounds also usually incorporate <em>attenuation</em> and <em>doppler effect</em>.</p>
<p><a href="https://en.wikipedia.org/wiki/Acoustic_attenuation" rel="external" target="_blank">Attenuation</a> in this context means that sound waves get softer the farther they travel (as some of the energy in the wave is absorbed by the air as heat).  Thus, as emitter B is farther from the listener than emitter A, we would expect that if the same sound were played by both emitters, emitter B would be softer.</p>
<p><a href="https://en.wikipedia.org/wiki/Doppler_effect" rel="external" target="_blank">Doppler effect</a> refers to the change in pitch of a sound when either the emitter or listener is moving.  When the distance between the emitter and listener  is getting smaller, the sound waves emitted by the emitter are closer together (higher frequency), resulting in a higher pitch.  And when they are moving apart, the waves are farther apart, resulting in a lower frequency and pitch.</p>

<details open class=" box cstyle notices info">
  <summary class="box-label" tabindex="-1">
    <i class="fa-fw fas fa-info-circle"></i> 
    Info
  </summary>
  <div class="box-content">
<p>Position, attenuation, and doppler effect represent some of the easiest-to-implement aspects of the physics of sound, which is why they are commonly implemented in video game audio libraries.  More complex is the interaction of sound with the environment, i.e. absorption and reflection by surfaces in the game world. This parallels the early days of 3D rendering, when the Phong illumination model (which we&rsquo;ll talk about soon) provided a simplistic but adequate technique for handling lights in a 3D scene.</p>
  </div>
</details>
<p>The MonoGame framework provides two classes for establishing positional sound, the <a href="https://docs.monogame.net/api/Microsoft.Xna.Framework.Audio.AudioEmitter.html" rel="external" target="_blank"><code>AudioEmitter</code></a> and <a href="https://docs.monogame.net/api/Microsoft.Xna.Framework.Audio.AudioListener.html" rel="external" target="_blank"><code>AudioListener</code></a>.</p>
<h3 id="audiolistener-class">AudioListener Class</h3>
<p>The <code>AudioListener</code> class represents the player (or microphone) in the game world, and all position, attenuation, and doppler effects are calculated relative to its position, orientation, and velocity.  It exposes four properties:</p>
<ul>
<li><code>Position</code> is a <code>Vector3</code> defining the position of the listener in the game world</li>
<li><code>Forward</code> is a <code>Vector3</code> defining the direction the listener is facing in the game world.</li>
<li><code>Up</code> is a <code>Vector3</code> defining the direction <em>up</em> relative to the direction the player is facing (generally it would be <code>Vector3.Up</code>).  It is used as part of the 3D math calculating the effects.</li>
<li><code>Velocity</code> is a <code>Vector3</code> defining the velocity at which the listener is moving in the game world.</li>
</ul>
<p>When using an <code>AudioListener</code> instance, you would set these each update to reflect the corresponding position, orientation, and velocity of the player.</p>
<h3 id="audioemitter-class">AudioEmitter Class</h3>
<p>The <code>AudioEmitter</code> class represents the source of a sound in the game world.  It exposes the same properties as the <code>AudioListener</code>:</p>
<ul>
<li><code>Position</code> is a <code>Vector3</code> defining the position of the emitter in the game world</li>
<li><code>Forward</code> is a <code>Vector3</code> defining the direction the emitter is facing in the game world.</li>
<li><code>Up</code> is a <code>Vector3</code> defining the direction <em>up</em> relative to the direction the emitter is facing (generally it would be <code>Vector3.Up</code>).  It is used as part of the 3D math calculating the effects.</li>
<li><code>Velocity</code> is a <code>Vector3</code> defining the velocity at which the emitter is moving in the game world.</li>
</ul>
<h3 id="playing-positional-sound">Playing Positional Sound</h3>
<p>Positional sounds are played by a <code>SoundEffectInstance</code>, not by the actual emitter; the emitter rather serves to locate the sound source.  Thus, to calculate and apply the 3D effects on a sound effect we would use something like:</p>
<div class="highlight" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>SoundEffect sfx = Content.Load&lt;sfx&gt;(<span style="color:#e6db74">&#34;sound&#34;</span>);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">var</span> instance = sfx.CreateInstance();
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">var</span> listener = <span style="color:#66d9ef">new</span> AudioListener();
</span></span><span style="display:flex;"><span><span style="color:#75715e">// TODO: Position and orient listener </span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">var</span> emitter = <span style="color:#66d9ef">new</span> AudioEmitter();
</span></span><span style="display:flex;"><span><span style="color:#75715e">// TODO: Position and orient emitter</span>
</span></span><span style="display:flex;"><span>instance.Apply3D(listener, emitter);</span></span></code></pre></div>
<h3 id="using-positional-sound-in-a-2d-game">Using Positional Sound in a 2D Game</h3>
<p>The positional sound support in MonoGame is for 3D soundscapes, but just as we can render 2D sprites using 3D hardware, we can create 2D soundscapes in 3D.  The easiest technique for this is to position all our emitters and listeners in the plane <span class="math align-center">$ z=0 $</span>.</p>
<p>The <code>Vector3</code> constructor actually has support for this built-in as it can take a <code>Vector2</code> for the <code>X</code> and <code>Y</code> components, and a separate scalar for the <code>Z</code> component.  Consider a game where we represent the player&rsquo;s position with a <code>Vector2 position</code>, direction with a <code>Vector2 direction</code>, and velocity with a <code>Vector2 velocity</code>.  We can update our <code>AudioListener listener</code> with:</p>
<div class="highlight" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#75715e">// Update listener properties</span>
</span></span><span style="display:flex;"><span>listener.Position = <span style="color:#66d9ef">new</span> Vector3(position, <span style="color:#ae81ff">0</span>);
</span></span><span style="display:flex;"><span>listener.Forward = <span style="color:#66d9ef">new</span> Vector3(direction, <span style="color:#ae81ff">0</span>);
</span></span><span style="display:flex;"><span>listener.Velocity = <span style="color:#66d9ef">new</span> Vector3(velocity, <span style="color:#ae81ff">0</span>);</span></span></code></pre></div>
<p>Since the <code>Up</code> vector will never change, we can just set it to <code>Vector3.UnitZ</code> (which is the vector <span class="math align-center">$ <0,0,1> $</span>) when we first create the listener.</p>
<p>The emitters would be set up the same way.</p>

  <footer class="footline">
  </footer>
</article>
        </div>
      </main>
<div class="git-footer">
  <p class="theme-version-footer">8.0.0</p>
<p>Last modified by:
              <i class='fa-fw fas fa-user'></i> Russell Feldhausen
              <i class='fas fa-calendar'></i> <a href="https://github.com/ksu-cs-textbooks/cis580/commit/5f59dff29e6746cb45cf91bffa33b978549f76a8">Aug 14, 2023</a>
</p>

</div>
    </div>
    <script>
      window.MathJax = Object.assign( window.MathJax || {}, {
        tex: {
          inlineMath:  [['\\(', '\\)'], ['$',  '$']],  
          displayMath: [['\\[', '\\]'], ['$$', '$$']], 
        },
        options: {
          enableMenu: false 
        }
      }, JSON.parse("{}") );
    </script>
    <script id="MathJax-script" async src="/cis580/js/mathjax/tex-mml-chtml.js?1755628803"></script>
    <script src="/cis580/js/clipboard/clipboard.min.js?1755628803" defer></script>
    <script src="/cis580/js/perfect-scrollbar/perfect-scrollbar.min.js?1755628803" defer></script>
    <script src="/cis580/js/theme.min.js?1755628803" defer></script>
  </body>
</html>
