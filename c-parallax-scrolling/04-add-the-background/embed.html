




  
	
	  

  
	
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
		
	  

  
	
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
		
	  

  
	
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
		
	  

  
	
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
		
	  

  
	
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
		
	  

  
	
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
		
	  

  
	
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
		
	  

  
	
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
		
	  

  
	
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
		
	  

  
	
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
		
	  

  
	
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
		
	  

  
	
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
		
	  

  
	
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
		
	  

  
	
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
		
	  

  
	
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
		
	  

  
	
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
		
	  

  
	
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
		
	  

  
	
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
		
<!DOCTYPE html>
<html lang="en-us" dir="ltr" itemscope itemtype="http://schema.org/Article">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.128.0">
    <meta name="generator" content="Relearn 6.0.0">
    <meta name="description" content="Now that we have our ParallaxLayer class, let’s add instances of it to our Game1 class.
The Background Layer Let’s start with the background layer. First, we’ll need to import our three texture, in our LoadContent method:
var backgroundTexture = Content.Load&lt;Texture2D&gt;(&#34;background&#34;);Then we can create StaticSprite instance:
var backgroundSprite = new StaticSprite(backgroundTexture);And finally, create our ParallaxLayer instance:
var backgroundLayer = new ParallaxLayer(this);We’ll add our sprite to it:
backgroundLayer.Sprites.Add(backgroundSprite);And set its DrawOrder. This property comes from the base class DrawableGameComponent, and is used to set the order game components are drawn in.">
    <meta name="author" content="Nathan Bean">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Adding the Background :: K-State CIS 580 Textbook">
    <meta name="twitter:description" content="Now that we have our ParallaxLayer class, let’s add instances of it to our Game1 class.
The Background Layer Let’s start with the background layer. First, we’ll need to import our three texture, in our LoadContent method:
var backgroundTexture = Content.Load&lt;Texture2D&gt;(&#34;background&#34;);Then we can create StaticSprite instance:
var backgroundSprite = new StaticSprite(backgroundTexture);And finally, create our ParallaxLayer instance:
var backgroundLayer = new ParallaxLayer(this);We’ll add our sprite to it:
backgroundLayer.Sprites.Add(backgroundSprite);And set its DrawOrder. This property comes from the base class DrawableGameComponent, and is used to set the order game components are drawn in.">
    <meta property="og:url" content="https://textbooks.cs.ksu.edu/cis580/c-parallax-scrolling/04-add-the-background/embed.html">
    <meta property="og:site_name" content="K-State CIS 580 Textbook">
    <meta property="og:title" content="Adding the Background :: K-State CIS 580 Textbook">
    <meta property="og:description" content="Now that we have our ParallaxLayer class, let’s add instances of it to our Game1 class.
The Background Layer Let’s start with the background layer. First, we’ll need to import our three texture, in our LoadContent method:
var backgroundTexture = Content.Load&lt;Texture2D&gt;(&#34;background&#34;);Then we can create StaticSprite instance:
var backgroundSprite = new StaticSprite(backgroundTexture);And finally, create our ParallaxLayer instance:
var backgroundLayer = new ParallaxLayer(this);We’ll add our sprite to it:
backgroundLayer.Sprites.Add(backgroundSprite);And set its DrawOrder. This property comes from the base class DrawableGameComponent, and is used to set the order game components are drawn in.">
    <meta property="og:locale" content="en-us">
    <meta property="og:type" content="article">
    <meta property="article:section" content="Parallax Scrolling">
    <meta property="article:published_time" content="2020-03-24T10:00:00-05:00">
    <meta property="article:modified_time" content="2023-08-11T11:18:05-05:00">
    <meta itemprop="name" content="Adding the Background :: K-State CIS 580 Textbook">
    <meta itemprop="description" content="Now that we have our ParallaxLayer class, let’s add instances of it to our Game1 class.
The Background Layer Let’s start with the background layer. First, we’ll need to import our three texture, in our LoadContent method:
var backgroundTexture = Content.Load&lt;Texture2D&gt;(&#34;background&#34;);Then we can create StaticSprite instance:
var backgroundSprite = new StaticSprite(backgroundTexture);And finally, create our ParallaxLayer instance:
var backgroundLayer = new ParallaxLayer(this);We’ll add our sprite to it:
backgroundLayer.Sprites.Add(backgroundSprite);And set its DrawOrder. This property comes from the base class DrawableGameComponent, and is used to set the order game components are drawn in.">
    <meta itemprop="datePublished" content="2020-03-24T10:00:00-05:00">
    <meta itemprop="dateModified" content="2023-08-11T11:18:05-05:00">
    <meta itemprop="wordCount" content="286">
    <title>Adding the Background :: K-State CIS 580 Textbook</title>
    <link href="https://textbooks.cs.ksu.edu/cis580/c-parallax-scrolling/04-add-the-background/" rel="canonical" type="text/html" title="Adding the Background :: K-State CIS 580 Textbook">
    <link href="/cis580/c-parallax-scrolling/04-add-the-background/index.xml" rel="alternate" type="application/rss+xml" title="Adding the Background :: K-State CIS 580 Textbook">
    <link href="/cis580/c-parallax-scrolling/04-add-the-background/index.print.html" rel="alternate" type="text/html" title="Adding the Background :: K-State CIS 580 Textbook">
    <link href="/cis580/c-parallax-scrolling/04-add-the-background/tele.html" rel="alternate" type="text/html" title="Adding the Background :: K-State CIS 580 Textbook">
    
  <link href="/cis580/css/fontawesome-all.min.css?1737133119" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/cis580/css/fontawesome-all.min.css?1737133119" rel="stylesheet"></noscript>
  <link href="/cis580/css/nucleus.css?1737133119" rel="stylesheet">
  <link href="/cis580/css/auto-complete.css?1737133119" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/cis580/css/auto-complete.css?1737133119" rel="stylesheet"></noscript>
  <link href="/cis580/css/perfect-scrollbar.min.css?1737133119" rel="stylesheet">
  <link href="/cis580/css/fonts.css?1737133119" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/cis580/css/fonts.css?1737133119" rel="stylesheet"></noscript>
  <link href="/cis580/css/theme.css?1737133119" rel="stylesheet">
  
  
  
  <link href="/cis580/css/theme-light-theme.css?1737133119" rel="stylesheet" id="R-variant-style">
  <link href="/cis580/css/chroma-relearn-light.css?1737133119" rel="stylesheet" id="R-variant-chroma-style">
  <link href="/cis580/css/variant.css?1737133119" rel="stylesheet">
  <link href="/cis580/css/print.css?1737133119" rel="stylesheet" media="print">
  
  
  
  <script>
    window.relearn = window.relearn || {};
    window.relearn.relBasePath='..\/..';
    window.relearn.relBaseUri='..\/..\/..';
    window.relearn.absBaseUri='https:\/\/textbooks.cs.ksu.edu\/cis580';
    window.index_js_url="/cis580/index.search.js";
    // variant stuff
    window.variants && variants.init( [ 'light-theme' ] );
    // translations
    window.T_Copy_to_clipboard = `Copy to clipboard`;
    window.T_Copied_to_clipboard = `Copied to clipboard!`;
    window.T_Copy_link_to_clipboard = `Copy link to clipboard`;
    window.T_Link_copied_to_clipboard = `Copied link to clipboard!`;
    window.T_Reset_view = `Reset view`;
    window.T_View_reset = `View reset!`;
    window.T_No_results_found = `No results found for "{0}"`;
    window.T_N_results_found = `{1} results found for "{0}"`;
  </script>
  
  <link href="/cis580/css/custom.css?1737133119" rel="stylesheet">
    
  </head>
  <body class="mobile-support embed disableInlineCopyToClipboard" data-url="/cis580/c-parallax-scrolling/04-add-the-background/embed.html">
    <div id="R-body" class="default-animation">
      <div id="R-body-overlay"></div>
      
      
      
      <div id="R-main-overlay"></div>
      <main id="R-body-inner" class="highlightable default" tabindex="-1">
        <div class="flex-block-wrapper">
          <article class="default">
    
    
    

<p>Now that we have our <code>ParallaxLayer</code> class, let&rsquo;s add instances of it to our <code>Game1</code> class.</p>
<h2 id="the-background-layer">The Background Layer</h2>
<p>Let&rsquo;s start with the background layer.  First, we&rsquo;ll need to import our three texture, in our <code>LoadContent</code> method:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl">    <span class="kt">var</span> <span class="n">backgroundTexture</span> <span class="p">=</span> <span class="n">Content</span><span class="p">.</span><span class="n">Load</span><span class="p">&lt;</span><span class="n">Texture2D</span><span class="p">&gt;(</span><span class="s">&#34;background&#34;</span><span class="p">);</span></span></span></code></pre></div><p>Then we can create <code>StaticSprite</code> instance:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl">    <span class="kt">var</span> <span class="n">backgroundSprite</span> <span class="p">=</span> <span class="k">new</span> <span class="n">StaticSprite</span><span class="p">(</span><span class="n">backgroundTexture</span><span class="p">);</span></span></span></code></pre></div><p>And finally, create our <code>ParallaxLayer</code> instance:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl">    <span class="kt">var</span> <span class="n">backgroundLayer</span> <span class="p">=</span> <span class="k">new</span> <span class="n">ParallaxLayer</span><span class="p">(</span><span class="k">this</span><span class="p">);</span></span></span></code></pre></div><p>We&rsquo;ll add our sprite to it:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl">    <span class="n">backgroundLayer</span><span class="p">.</span><span class="n">Sprites</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="n">backgroundSprite</span><span class="p">);</span></span></span></code></pre></div><p>And set its <code>DrawOrder</code>.  This property comes from the base class <code>DrawableGameComponent</code>, and is used to set the order game components are drawn in.  The lower numbers are drawn <em>first</em>, so we want our background to have a low number:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl">    <span class="n">backgroundLayer</span><span class="p">.</span><span class="n">DrawOrder</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span></span></span></code></pre></div><p>Finally, we need to add the layer to the <code>Game1.Components</code> list:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl">    <span class="n">Components</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="n">backgroundLayer</span><span class="p">);</span></span></span></code></pre></div><p>By adding it to the list, we let the <code>Game1</code> instance take care of updating and rendering the <code>ParallaxLayer</code>.  If you run your code now, you should see the background:</p>
<p><a href="#R-image-cd4398dd91db1cbd99037854393fce87" class="lightbox-link"><img alt="Background Layer" class="border lazy lightbox noshadow figure-image" loading="lazy" src="/cis580/images/parallax-4.1.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-cd4398dd91db1cbd99037854393fce87"><img alt="Background Layer" class="border lazy lightbox noshadow lightbox-image" loading="lazy" src="/cis580/images/parallax-4.1.png"></a></p>
<p>But what has happened to our player helicopter?  Let&rsquo;s look at our <code>Game1.Draw</code> method:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl">    <span class="kd">protected</span> <span class="kd">override</span> <span class="k">void</span> <span class="n">Draw</span><span class="p">(</span><span class="n">GameTime</span> <span class="n">gameTime</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">GraphicsDevice</span><span class="p">.</span><span class="n">Clear</span><span class="p">(</span><span class="n">Color</span><span class="p">.</span><span class="n">CornflowerBlue</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1">// TODO: Add your drawing code here</span>
</span></span><span class="line"><span class="cl">        <span class="n">spriteBatch</span><span class="p">.</span><span class="n">Begin</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">        <span class="n">player</span><span class="p">.</span><span class="n">Draw</span><span class="p">(</span><span class="n">spriteBatch</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="n">spriteBatch</span><span class="p">.</span><span class="n">End</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="k">base</span><span class="p">.</span><span class="n">Draw</span><span class="p">(</span><span class="n">gameTime</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span></span></span></code></pre></div><p>Notice how we invoke the <code>base.Draw()</code> <em>after</em> we have drawn our player?  The game components in the <code>Game1.Components</code> list are drawn as part of that call, so the background is being drawn <em>after</em> our player.  We could fix this in a couple of ways.</p>
<p>One solution is to make the player a game componet as well, and set its <code>DrawOrder</code> to a larger number than the background, and add it to the <code>Game1.Components</code> list.</p>
<p>A second solution would be to make the <code>Player</code> class implement the <code>ISprite</code> interface, and add it to a <code>ParallaxLayer</code>.  Let&rsquo;s do this second approach, and create our foreground layer, next.</p>

            <footer class="footline">
              
              
              
              
            </footer>
          </article>
</div>
</main>
</div>



<script src="/cis580/js/clipboard.min.js?1737133119" defer></script>
<script src="/cis580/js/perfect-scrollbar.min.js?1737133119" defer></script>
<script src="/cis580/js/theme.js?1737133119" defer></script>

<script src="/cis580/js/embed-iframe.js?1737133119" defer></script>
</body>
</html>
