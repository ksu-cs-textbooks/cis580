<!DOCTYPE html>
<html lang="en-us" dir="ltr" itemscope itemtype="http://schema.org/Article" data-r-output-format="print">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.128.0">
    <meta name="generator" content="Relearn 8.0.0">
    <meta name="description" content="Now letâ€™s turn our attention to our remaining layers. The process will be almost identical to our background, with one important difference. Weâ€™ll use two textures for the midground, and four for the background
The reason for this is we want each successive layer to be larger than the one behind it. Remember, the background will move very little relative to the players position, while the midground, which is closer to the player, will need to scroll more.">
    <meta name="author" content="Nathan H. Bean">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="https://textbooks.cs.ksu.edu/cis580/images/hero.png">
    <meta name="twitter:title" content="Adding the Remaining Layers :: K-State CIS 580 Textbook">
    <meta name="twitter:description" content="Now letâ€™s turn our attention to our remaining layers. The process will be almost identical to our background, with one important difference. Weâ€™ll use two textures for the midground, and four for the background
The reason for this is we want each successive layer to be larger than the one behind it. Remember, the background will move very little relative to the players position, while the midground, which is closer to the player, will need to scroll more.">
    <meta property="og:url" content="https://textbooks.cs.ksu.edu/cis580/c-parallax-scrolling/07-add-the-remaining-layers/index.html">
    <meta property="og:site_name" content="K-State CIS 580 Textbook">
    <meta property="og:title" content="Adding the Remaining Layers :: K-State CIS 580 Textbook">
    <meta property="og:description" content="Now letâ€™s turn our attention to our remaining layers. The process will be almost identical to our background, with one important difference. Weâ€™ll use two textures for the midground, and four for the background
The reason for this is we want each successive layer to be larger than the one behind it. Remember, the background will move very little relative to the players position, while the midground, which is closer to the player, will need to scroll more.">
    <meta property="og:locale" content="en_us">
    <meta property="og:type" content="article">
    <meta property="article:section" content="Parallax Scrolling">
    <meta property="article:published_time" content="2020-03-24T10:00:00-05:00">
    <meta property="article:modified_time" content="2023-08-11T11:18:05-05:00">
    <meta property="og:image" content="https://textbooks.cs.ksu.edu/cis580/images/hero.png">
    <meta itemprop="name" content="Adding the Remaining Layers :: K-State CIS 580 Textbook">
    <meta itemprop="description" content="Now letâ€™s turn our attention to our remaining layers. The process will be almost identical to our background, with one important difference. Weâ€™ll use two textures for the midground, and four for the background
The reason for this is we want each successive layer to be larger than the one behind it. Remember, the background will move very little relative to the players position, while the midground, which is closer to the player, will need to scroll more.">
    <meta itemprop="datePublished" content="2020-03-24T10:00:00-05:00">
    <meta itemprop="dateModified" content="2023-08-11T11:18:05-05:00">
    <meta itemprop="wordCount" content="707">
    <meta itemprop="image" content="https://textbooks.cs.ksu.edu/cis580/images/hero.png">
    <title>Adding the Remaining Layers :: K-State CIS 580 Textbook</title>
    <link href="https://textbooks.cs.ksu.edu/cis580/c-parallax-scrolling/07-add-the-remaining-layers/index.html" rel="canonical" type="text/html" title="Adding the Remaining Layers :: K-State CIS 580 Textbook">
    <link href="/cis580/c-parallax-scrolling/07-add-the-remaining-layers/index.xml" rel="alternate" type="application/rss+xml" title="Adding the Remaining Layers :: K-State CIS 580 Textbook">
    <link href="/cis580/c-parallax-scrolling/07-add-the-remaining-layers/tele.html" rel="alternate" type="text/html" title="Adding the Remaining Layers :: K-State CIS 580 Textbook">
    <link href="/cis580/c-parallax-scrolling/07-add-the-remaining-layers/embed.html" rel="alternate" type="text/html" title="Adding the Remaining Layers :: K-State CIS 580 Textbook">
    <link href="/cis580/css/auto-complete/auto-complete.min.css?1756153111" rel="stylesheet">
    <script src="/cis580/js/auto-complete/auto-complete.min.js?1756153111" defer></script>
    <script src="/cis580/js/search-lunr.min.js?1756153111" defer></script>
    <script src="/cis580/js/search.min.js?1756153111" defer></script>
    <script>
      window.relearn = window.relearn || {};
      window.relearn.index_js_url="/cis580/searchindex.en.js?1756153111";
    </script>
    <script src="/cis580/js/lunr/lunr.min.js?1756153111" defer></script>
    <script src="/cis580/js/lunr/lunr.stemmer.support.min.js?1756153111" defer></script>
    <script src="/cis580/js/lunr/lunr.multi.min.js?1756153111" defer></script>
    <script src="/cis580/js/lunr/lunr.en.min.js?1756153111" defer></script>
    <script>
      window.relearn = window.relearn || {};
      window.relearn.contentLangs=['en'];
    </script>
    <link href="/cis580/fonts/fontawesome/css/fontawesome-all.min.css?1756153111" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/cis580/fonts/fontawesome/css/fontawesome-all.min.css?1756153111" rel="stylesheet"></noscript>
    <link href="/cis580/css/perfect-scrollbar/perfect-scrollbar.min.css?1756153111" rel="stylesheet">
    <link href="/cis580/css/theme.min.css?1756153111" rel="stylesheet">
    <link href="/cis580/css/format-print.min.css?1756153111" rel="stylesheet" id="R-format-style">
    <script>
      window.relearn = window.relearn || {};
      // configuration
      window.relearn.min = `.min`;
      window.relearn.path='\/c-parallax-scrolling\/07-add-the-remaining-layers\/index.html';
      window.relearn.relBasePath='..\/..';
      window.relearn.relBaseUri='..\/..\/..';
      window.relearn.absBaseUri='https:\/\/textbooks.cs.ksu.edu\/cis580';
      window.relearn.disableAnchorCopy=false;
      window.relearn.disableAnchorScrolling=false;
      window.relearn.disableInlineCopyToClipboard=true;
      window.relearn.enableBlockCodeWrap=false;
      // legal
      window.relearn.getItem = (s,n) => {return s.getItem(n)};
      window.relearn.setItem = (s,n,v) => {return s.setItem(n,v)};
      window.relearn.removeItem = (s,n) => {return s.removeItem(n)};
      // translations
      window.T_Copy_to_clipboard = `Copy to clipboard`;
      window.T_Copied_to_clipboard = `Copied to clipboard!`;
      window.T_Copy_link_to_clipboard = `Copy link to clipboard`;
      window.T_Link_copied_to_clipboard = `Copied link to clipboard!`;
      window.T_Reset_view = `Reset view`;
      window.T_View_reset = `View reset!`;
      window.T_No_results_found = `No results found for "{0}"`;
      window.T_N_results_found = `{1} results found for "{0}"`;
      // variant stuff
      window.relearn.themevariants = [ 'light-theme' ];
      window.relearn.customvariantname = "my-custom-variant";
      // [x] russfeld
      window.relearn.writeVariant=false;
      window.relearn.changeVariant = function(variant) {
        var oldVariant = document.documentElement.dataset.rThemeVariant;
        window.relearn.setItem(window.localStorage, window.relearn.absBaseUri + "/variant", variant);
        document.documentElement.dataset.rThemeVariant = variant;
        if (oldVariant != variant) {
          document.dispatchEvent( new CustomEvent('themeVariantLoaded', { detail: { variant, oldVariant } }) );
          window.relearn.markVariant();
        }
      }
      window.relearn.markVariant = function() {
        var variant = window.relearn.getItem(window.localStorage, window.relearn.absBaseUri + "/variant");
        document.querySelectorAll(".R-variantswitcher select").forEach((select) => {select.value = variant;});
      }
      window.relearn.initVariant = function() {
        var variant = window.relearn.getItem(window.localStorage, window.relearn.absBaseUri + "/variant") ?? "";
        if( variant == window.relearn.customvariantname ){
        }else if( !variant || !window.relearn.themevariants.includes(variant) ){
          variant = window.relearn.themevariants[0];
          
          if (window.relearn.writeVariant) {
            window.relearn.setItem(window.localStorage, window.relearn.absBaseUri + "/variant", variant);
          }
        }
        document.documentElement.dataset.rThemeVariant = variant;
      }
      window.relearn.initVariant();
      window.relearn.markVariant();
    </script>
    <link href="/cis580/css/custom.css?1756153111" rel="stylesheet">
  </head>
  <body class="mobile-support print" data-url="/cis580/c-parallax-scrolling/07-add-the-remaining-layers/index.html">
    <div id="R-body" class="default-animation">
      <div id="R-body-overlay"></div>
      <nav id="R-topbar">
        <div class="topbar-wrapper">
          <div class="topbar-sidebar-divider"></div>
          <div class="topbar-area topbar-area-start" data-area="start">
            <div class="topbar-button topbar-button-sidebar" data-content-empty="disable" data-width-s="show" data-width-m="hide" data-width-l="hide"><button class="topbar-control" onclick="toggleNav()" type="button" title="Menu (CTRL&#43;ALT&#43;n)"><i class="fa-fw fas fa-bars"></i></button>
            </div>
            <div class="topbar-button topbar-button-toc" data-content-empty="hide" data-width-s="show" data-width-m="show" data-width-l="show"><button class="topbar-control" onclick="toggleTopbarFlyout(this)" type="button" title="Table of Contents (CTRL&#43;ALT&#43;t)"><i class="fa-fw fas fa-list-alt"></i></button>
              <div class="topbar-content">
                <div class="topbar-content-wrapper">
<nav class="TableOfContents">
  <ul>
    <li><a href="#big-bitmaps">Big Bitmaps</a></li>
    <li><a href="#adding-the-midground">Adding the Midground</a></li>
    <li><a href="#adding-the-foreground">Adding the Foreground</a></li>
    <li><a href="#adjusting-the-player-layer-speed">Adjusting the Player Layer Speed</a></li>
  </ul>
</nav>
                </div>
              </div>
            </div>
          </div>
          <ol class="topbar-breadcrumbs breadcrumbs highlightable" itemscope itemtype="http://schema.org/BreadcrumbList"><li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement" class="a11y-only"><a itemprop="item" href="/cis580/index.html"><span itemprop="name">CIS 580: Foundations of Game Programming</span></a><meta itemprop="position" content="1">&nbsp;>&nbsp;</li><li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement" class=""><span itemprop="name">Parallax Scrolling</span><meta itemprop="position" content="2">&nbsp;>&nbsp;</li><li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement" class=""><span itemprop="name">Adding the Remaining Layers</span><meta itemprop="position" content="3"></li>
          </ol>
          <div class="topbar-area topbar-area-end" data-area="end">
            <div class="topbar-button topbar-button-edit" data-content-empty="disable" data-width-s="area-more" data-width-m="show" data-width-l="show"><a class="topbar-control" href="https://github.com/ksu-cs-textbooks/cis580/edit/master/content/c-parallax-scrolling/07-add-the-remaining-layers.md" rel="external" target="_blank" title="Edit (CTRL+ALT+w)"><i class="fa-fw fas fa-pen"></i></a>
            </div>
            <div class="topbar-button topbar-button-print" data-content-empty="disable" data-width-s="area-more" data-width-m="show" data-width-l="show"><a class="topbar-control" href="/cis580/c-parallax-scrolling/07-add-the-remaining-layers/index.print.html" title="Print whole chapter (CTRL+ALT+p)"><i class="fa-fw fas fa-print"></i></a>
            </div>
            <div class="topbar-button topbar-button-prev" data-content-empty="disable" data-width-s="show" data-width-m="show" data-width-l="show"><a class="topbar-control" href="/cis580/c-parallax-scrolling/06-scrolling-layers/index.html" title="Scrolling Layers (ðŸ¡)"><i class="fa-fw fas fa-chevron-left"></i></a>
            </div>
            <div class="topbar-button topbar-button-next" data-content-empty="disable" data-width-s="show" data-width-m="show" data-width-l="show"><a class="topbar-control" href="/cis580/c-parallax-scrolling/08-scrolling-with-the-player/index.html" title="Scrolling With the Player (ðŸ¡’)"><i class="fa-fw fas fa-chevron-right"></i></a>
            </div>
            <div class="topbar-button topbar-button-more" data-content-empty="hide" data-width-s="show" data-width-m="show" data-width-l="show"><button class="topbar-control" onclick="toggleTopbarFlyout(this)" type="button" title="More"><i class="fa-fw fas fa-ellipsis-v"></i></button>
              <div class="topbar-content">
                <div class="topbar-content-wrapper">
                  <div class="topbar-area topbar-area-more" data-area="more">
            <div class="topbar-button topbar-button-embed" data-content-empty="disable" data-width-s="area-more" data-width-m="show" data-width-l="show"><a class="topbar-control" href="/cis580/c-parallax-scrolling/07-add-the-remaining-layers/embed.html" title="Embeddable Version"><i class="fa-fw fas fa-expand-arrows-alt"></i></a>
            </div>
            <div class="topbar-button topbar-button-tele" data-content-empty="disable" data-width-s="area-more" data-width-m="show" data-width-l="show"><a class="topbar-control" href="/cis580/c-parallax-scrolling/07-add-the-remaining-layers/tele.html" title="Teleprompter View"><i class="fa-fw fas fa-tv"></i></a>
            </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </nav>
      <div id="R-main-overlay"></div>
      <main id="R-body-inner" class="highlightable c-parallax-scrolling" tabindex="-1">
        <div class="flex-block-wrapper">
<article class="default">
  <header class="headline">
  </header>

<h1 id="adding-the-remaining-layers">Adding the Remaining Layers</h1>

<p>Now let&rsquo;s turn our attention to our remaining layers.  The process will be <em>almost</em> identical to our background, with one important difference.  We&rsquo;ll use <em>two</em> textures for the midground, and <em>four</em> for the background</p>
<p>The reason for this is we want each successive layer to be larger than the one behind it.  Remember, the background will move very little relative to the players position, while the midground, which is closer to the player, will need to scroll more.  So it needs to be longer.  Our background is 3500 pixels long, while our midground is 7800 pixels long.  Similarly, the foreground is even closer to the screen, so it is even longer - 14,000 pixels.</p>
<h2 id="big-bitmaps">Big Bitmaps</h2>
<p>The XNA framework limits textures to a maximum size of 4096 pixels on each size.  That&rsquo;s a substantially large texture, requiring 64MB of video memory.  But it still may be smaller than the worlds we want to work with.  So how do we render game worlds that are larger than that limit?  One possibility is to use tiles to break the world into small, repeatable chunks.  We cover that approach elsewhere.</p>
<p>A second strategy is to break the world into <em>large</em> chunks - just about as large as we can manage.  This strategy is known as a <em>big bitmap engine</em>.  Unlike tiles, which construct large worlds by repeating small tile images, a <em>big bitmap engine</em> typically uses only a handful of non-repeated images.  This can give the game&rsquo;s artwork a chance to really shine, and showcase art styles like digitized painting.</p>
<h2 id="adding-the-midground">Adding the Midground</h2>
<p>Since our midground is too large for a single texture, we&rsquo;ve split it into two 3,900 pixel textures, <em>midground1.png</em> and <em>midground2.png</em>.  We could load them into separate variables, but it might be cleaner to load them into a single array using initializer sytax (in our <code>Game1.LoadContent()</code> method):</p>
<div class="highlight" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>    <span style="color:#66d9ef">var</span> midgroundTextures = <span style="color:#66d9ef">new</span> Texture2D[]
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        Content.Load&lt;Texture2D&gt;(<span style="color:#e6db74">&#34;midground1&#34;</span>),
</span></span><span style="display:flex;"><span>        Content.Load&lt;Texture2D&gt;(<span style="color:#e6db74">&#34;midground2&#34;</span>)
</span></span><span style="display:flex;"><span>    };</span></span></code></pre></div>
<p>Then we can create the <code>StaticSprite</code> objects to represent these two chunks.  We can do this as an array as well:</p>
<div class="highlight" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>    <span style="color:#66d9ef">var</span> midgroundSprites = <span style="color:#66d9ef">new</span> StaticSprite[]
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">new</span> StaticSprite(midgroundTextures[<span style="color:#ae81ff">0</span>]),
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">new</span> StaticSprite(midgroundTextures[<span style="color:#ae81ff">1</span>], <span style="color:#66d9ef">new</span> Vector2(<span style="color:#ae81ff">3500</span>, <span style="color:#ae81ff">0</span>))
</span></span><span style="display:flex;"><span>    };</span></span></code></pre></div>
<p>Remember that our second midground sprite needs to be positioned <em>immediately after</em> the first, so we give it a position vector of &lt;3500, 0&gt;.</p>
<p>Next we need to create our parallax layer:</p>
<div class="highlight" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>    <span style="color:#66d9ef">var</span> midgroundLayer = <span style="color:#66d9ef">new</span> ParallaxLayer(<span style="color:#66d9ef">this</span>);</span></span></code></pre></div>
<p>Add the midground sprites to it:</p>
<div class="highlight" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>    midgroundLayer.Sprites.AddRange(midgroundSprites);</span></span></code></pre></div>
<p>Set its draw order to be larger than our background&rsquo;s:</p>
<div class="highlight" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>    midgroundLayer.DrawOrder = <span style="color:#ae81ff">1</span>;</span></span></code></pre></div>
<p>We want this layer to scroll faster than the background, so we&rsquo;ll tweak its controller&rsquo;s speed.  Before we can though, we&rsquo;ll have to cast it so that our compiler knows it is a <code>AutoScrollController</code>, and not an arbitrary <code>IScrollController</code>:</p>
<div class="highlight" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>    <span style="color:#66d9ef">var</span> midgroundScrollController = midgroundLayer.ScrollController <span style="color:#66d9ef">as</span> AutoScrollController;
</span></span><span style="display:flex;"><span>    midgroundScrollController.Speed = <span style="color:#ae81ff">40f</span>;</span></span></code></pre></div>
<p>And finally add it to our game components list:</p>
<div class="highlight" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>    Components.Add(midgroundLayer);</span></span></code></pre></div>
<h2 id="adding-the-foreground">Adding the Foreground</h2>
<p>The foreground works almost exactly the same, except it has more textures and we&rsquo;ll want it to scroll faster.  First we&rsquo;ll load the textures:</p>
<div class="highlight" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>    <span style="color:#66d9ef">var</span> foregroundTextures = <span style="color:#66d9ef">new</span> List&lt;Texture2D&gt;()
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        Content.Load&lt;Texture2D&gt;(<span style="color:#e6db74">&#34;foreground1&#34;</span>),
</span></span><span style="display:flex;"><span>        Content.Load&lt;Texture2D&gt;(<span style="color:#e6db74">&#34;foreground2&#34;</span>),
</span></span><span style="display:flex;"><span>        Content.Load&lt;Texture2D&gt;(<span style="color:#e6db74">&#34;foreground3&#34;</span>),
</span></span><span style="display:flex;"><span>        Content.Load&lt;Texture2D&gt;(<span style="color:#e6db74">&#34;foreground4&#34;</span>)
</span></span><span style="display:flex;"><span>    };</span></span></code></pre></div>
<p>Then we&rsquo;ll put them into sprites.  Rather than initailizing an array, this time we&rsquo;ll use a list to demonstrate how we could handle an arbitrary number of textures:</p>
<div class="highlight" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>    <span style="color:#66d9ef">var</span> foregroundSprites = <span style="color:#66d9ef">new</span> List&lt;StaticSprite&gt;();
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> i = <span style="color:#ae81ff">0</span>; i &lt; foregroundTextures.Count; i++)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">var</span> position = <span style="color:#66d9ef">new</span> Vector2(i * <span style="color:#ae81ff">3500</span>, <span style="color:#ae81ff">0</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">var</span> sprite = <span style="color:#66d9ef">new</span> StaticSprite(foregroundTextures[i], position);
</span></span><span style="display:flex;"><span>        foregroundSprites.Add(sprite);
</span></span><span style="display:flex;"><span>    }</span></span></code></pre></div>
<p>These textures are all 3500 pixels long, so we&rsquo;ll calculate the position based on that, and use the second <code>StaticSprite</code> constructor.</p>
<p>We can then create the <code>ParallaxLayer</code> and add the sprites to it:</p>
<div class="highlight" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>    <span style="color:#66d9ef">var</span> foregroundLayer = <span style="color:#66d9ef">new</span> ParallaxLayer(<span style="color:#66d9ef">this</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">foreach</span>(<span style="color:#66d9ef">var</span> sprite <span style="color:#66d9ef">in</span> foregroundSprites)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        foregroundLayer.Sprites.Add(sprite);
</span></span><span style="display:flex;"><span>    }</span></span></code></pre></div>
<p>We&rsquo;ll set the <code>DrawOrder</code> to be in front of the player layer:</p>
<div class="highlight" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>    foregroundLayer.DrawOrder = <span style="color:#ae81ff">4</span>;</span></span></code></pre></div>
<p>And give it an even faster speed than the midground:</p>
<div class="highlight" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>    <span style="color:#66d9ef">var</span> foregroundScrollController = foregroundLayer.ScrollController <span style="color:#66d9ef">as</span> AutoScrollController;
</span></span><span style="display:flex;"><span>    foregroundScrollController.Speed = <span style="color:#ae81ff">80f</span>;</span></span></code></pre></div>
<p>Finally, we can add it to the <code>Components</code> list:</p>
<div class="highlight" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>    Components.Add(foregroundLayer);</span></span></code></pre></div>
<h2 id="adjusting-the-player-layer-speed">Adjusting the Player Layer Speed</h2>
<p>We want our player layer to scroll as fast as the foreground, so let&rsquo;s set it to the same value:</p>
<div class="highlight" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>    <span style="color:#66d9ef">var</span> playerScrollController = playerLayer.ScrollController <span style="color:#66d9ef">as</span> AutoScrollController;
</span></span><span style="display:flex;"><span>    playerScrollController.Speed = <span style="color:#ae81ff">80f</span>;</span></span></code></pre></div>
<p>Try running the game now.  You should see all three layers scrolling, and you can fly your helicopter behind the telephone lines!</p>
<p><a href="#R-image-3f955fcfcedf327e1b2ad2539fb750a8" class="lightbox-link"><img alt="All layers" class="border lazy lightbox figure-image" loading="lazy" src="/cis580/images/parallax-7.1.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-3f955fcfcedf327e1b2ad2539fb750a8"><img alt="All layers" class="border lazy lightbox lightbox-image" loading="lazy" src="/cis580/images/parallax-7.1.png"></a></p>

  <footer class="footline">
  </footer>
</article>
        </div>
      </main>
<div class="git-footer">
  <p class="theme-version-footer">8.0.0</p>
<p>Last modified by:
              <i class='fa-fw fas fa-user'></i> Russell Feldhausen
              <i class='fas fa-calendar'></i> <a href="https://github.com/ksu-cs-textbooks/cis580/commit/43f194969a638fa4572819da4b31060ad574a9ce">Aug 11, 2023</a>
</p>

</div>
    </div>
    <script src="/cis580/js/clipboard/clipboard.min.js?1756153111" defer></script>
    <script src="/cis580/js/perfect-scrollbar/perfect-scrollbar.min.js?1756153111" defer></script>
    <script src="/cis580/js/theme.min.js?1756153111" defer></script>
  </body>
</html>
