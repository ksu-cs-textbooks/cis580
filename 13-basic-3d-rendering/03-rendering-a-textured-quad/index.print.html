<!DOCTYPE html>
<html lang="en-us" dir="ltr" itemscope itemtype="http://schema.org/Article" data-r-output-format="print">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.128.0">
    <meta name="generator" content="Relearn 8.0.0">
    <meta name="description" content="While the point of a TriangleStrip is to optimize by reducing the number of vertices, in most cases it still will have repeats, and it is difficult to define a complex mesh out of a single strip. Thus, in addition to vertices, we can provide indices to specific vertices. The collection of indices contains nothing more than integers referencing vertices in the vertices collection. This means each unique vertex needs to be defined exactly once, and the indices take on the role of defining the triangles by giving the position of each successive vertex in the triangle list in the vertex array.">
    <meta name="author" content="Nathan H. Bean">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="https://textbooks.cs.ksu.edu/cis580/images/hero.png">
    <meta name="twitter:title" content="Rendering a Textured Quad :: K-State CIS 580 Textbook">
    <meta name="twitter:description" content="While the point of a TriangleStrip is to optimize by reducing the number of vertices, in most cases it still will have repeats, and it is difficult to define a complex mesh out of a single strip. Thus, in addition to vertices, we can provide indices to specific vertices. The collection of indices contains nothing more than integers referencing vertices in the vertices collection. This means each unique vertex needs to be defined exactly once, and the indices take on the role of defining the triangles by giving the position of each successive vertex in the triangle list in the vertex array.">
    <meta property="og:url" content="https://textbooks.cs.ksu.edu/cis580/13-basic-3d-rendering/03-rendering-a-textured-quad/index.html">
    <meta property="og:site_name" content="K-State CIS 580 Textbook">
    <meta property="og:title" content="Rendering a Textured Quad :: K-State CIS 580 Textbook">
    <meta property="og:description" content="While the point of a TriangleStrip is to optimize by reducing the number of vertices, in most cases it still will have repeats, and it is difficult to define a complex mesh out of a single strip. Thus, in addition to vertices, we can provide indices to specific vertices. The collection of indices contains nothing more than integers referencing vertices in the vertices collection. This means each unique vertex needs to be defined exactly once, and the indices take on the role of defining the triangles by giving the position of each successive vertex in the triangle list in the vertex array.">
    <meta property="og:locale" content="en_us">
    <meta property="og:type" content="article">
    <meta property="article:section" content="Basic 3D Rendering">
    <meta property="article:published_time" content="2020-03-24T10:00:00-05:00">
    <meta property="article:modified_time" content="2023-08-11T11:18:05-05:00">
    <meta property="og:image" content="https://textbooks.cs.ksu.edu/cis580/images/hero.png">
    <meta itemprop="name" content="Rendering a Textured Quad :: K-State CIS 580 Textbook">
    <meta itemprop="description" content="While the point of a TriangleStrip is to optimize by reducing the number of vertices, in most cases it still will have repeats, and it is difficult to define a complex mesh out of a single strip. Thus, in addition to vertices, we can provide indices to specific vertices. The collection of indices contains nothing more than integers referencing vertices in the vertices collection. This means each unique vertex needs to be defined exactly once, and the indices take on the role of defining the triangles by giving the position of each successive vertex in the triangle list in the vertex array.">
    <meta itemprop="datePublished" content="2020-03-24T10:00:00-05:00">
    <meta itemprop="dateModified" content="2023-08-11T11:18:05-05:00">
    <meta itemprop="wordCount" content="1178">
    <meta itemprop="image" content="https://textbooks.cs.ksu.edu/cis580/images/hero.png">
    <title>Rendering a Textured Quad :: K-State CIS 580 Textbook</title>
    <link href="https://textbooks.cs.ksu.edu/cis580/13-basic-3d-rendering/03-rendering-a-textured-quad/index.html" rel="canonical" type="text/html" title="Rendering a Textured Quad :: K-State CIS 580 Textbook">
    <link href="/cis580/13-basic-3d-rendering/03-rendering-a-textured-quad/index.xml" rel="alternate" type="application/rss+xml" title="Rendering a Textured Quad :: K-State CIS 580 Textbook">
    <link href="/cis580/13-basic-3d-rendering/03-rendering-a-textured-quad/tele.html" rel="alternate" type="text/html" title="Rendering a Textured Quad :: K-State CIS 580 Textbook">
    <link href="/cis580/13-basic-3d-rendering/03-rendering-a-textured-quad/embed.html" rel="alternate" type="text/html" title="Rendering a Textured Quad :: K-State CIS 580 Textbook">
    <link href="/cis580/css/auto-complete/auto-complete.min.css?1756153111" rel="stylesheet">
    <script src="/cis580/js/auto-complete/auto-complete.min.js?1756153111" defer></script>
    <script src="/cis580/js/search-lunr.min.js?1756153111" defer></script>
    <script src="/cis580/js/search.min.js?1756153111" defer></script>
    <script>
      window.relearn = window.relearn || {};
      window.relearn.index_js_url="/cis580/searchindex.en.js?1756153111";
    </script>
    <script src="/cis580/js/lunr/lunr.min.js?1756153111" defer></script>
    <script src="/cis580/js/lunr/lunr.stemmer.support.min.js?1756153111" defer></script>
    <script src="/cis580/js/lunr/lunr.multi.min.js?1756153111" defer></script>
    <script src="/cis580/js/lunr/lunr.en.min.js?1756153111" defer></script>
    <script>
      window.relearn = window.relearn || {};
      window.relearn.contentLangs=['en'];
    </script>
    <link href="/cis580/fonts/fontawesome/css/fontawesome-all.min.css?1756153111" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/cis580/fonts/fontawesome/css/fontawesome-all.min.css?1756153111" rel="stylesheet"></noscript>
    <link href="/cis580/css/perfect-scrollbar/perfect-scrollbar.min.css?1756153111" rel="stylesheet">
    <link href="/cis580/css/theme.min.css?1756153111" rel="stylesheet">
    <link href="/cis580/css/format-print.min.css?1756153111" rel="stylesheet" id="R-format-style">
    <script>
      window.relearn = window.relearn || {};
      // configuration
      window.relearn.min = `.min`;
      window.relearn.path='\/13-basic-3d-rendering\/03-rendering-a-textured-quad\/index.html';
      window.relearn.relBasePath='..\/..';
      window.relearn.relBaseUri='..\/..\/..';
      window.relearn.absBaseUri='https:\/\/textbooks.cs.ksu.edu\/cis580';
      window.relearn.disableAnchorCopy=false;
      window.relearn.disableAnchorScrolling=false;
      window.relearn.disableInlineCopyToClipboard=true;
      window.relearn.enableBlockCodeWrap=false;
      // legal
      window.relearn.getItem = (s,n) => {return s.getItem(n)};
      window.relearn.setItem = (s,n,v) => {return s.setItem(n,v)};
      window.relearn.removeItem = (s,n) => {return s.removeItem(n)};
      // translations
      window.T_Copy_to_clipboard = `Copy to clipboard`;
      window.T_Copied_to_clipboard = `Copied to clipboard!`;
      window.T_Copy_link_to_clipboard = `Copy link to clipboard`;
      window.T_Link_copied_to_clipboard = `Copied link to clipboard!`;
      window.T_Reset_view = `Reset view`;
      window.T_View_reset = `View reset!`;
      window.T_No_results_found = `No results found for "{0}"`;
      window.T_N_results_found = `{1} results found for "{0}"`;
      // variant stuff
      window.relearn.themevariants = [ 'light-theme' ];
      window.relearn.customvariantname = "my-custom-variant";
      // [x] russfeld
      window.relearn.writeVariant=false;
      window.relearn.changeVariant = function(variant) {
        var oldVariant = document.documentElement.dataset.rThemeVariant;
        window.relearn.setItem(window.localStorage, window.relearn.absBaseUri + "/variant", variant);
        document.documentElement.dataset.rThemeVariant = variant;
        if (oldVariant != variant) {
          document.dispatchEvent( new CustomEvent('themeVariantLoaded', { detail: { variant, oldVariant } }) );
          window.relearn.markVariant();
        }
      }
      window.relearn.markVariant = function() {
        var variant = window.relearn.getItem(window.localStorage, window.relearn.absBaseUri + "/variant");
        document.querySelectorAll(".R-variantswitcher select").forEach((select) => {select.value = variant;});
      }
      window.relearn.initVariant = function() {
        var variant = window.relearn.getItem(window.localStorage, window.relearn.absBaseUri + "/variant") ?? "";
        if( variant == window.relearn.customvariantname ){
        }else if( !variant || !window.relearn.themevariants.includes(variant) ){
          variant = window.relearn.themevariants[0];
          
          if (window.relearn.writeVariant) {
            window.relearn.setItem(window.localStorage, window.relearn.absBaseUri + "/variant", variant);
          }
        }
        document.documentElement.dataset.rThemeVariant = variant;
      }
      window.relearn.initVariant();
      window.relearn.markVariant();
    </script>
    <link href="/cis580/css/custom.css?1756153111" rel="stylesheet">
  </head>
  <body class="mobile-support print" data-url="/cis580/13-basic-3d-rendering/03-rendering-a-textured-quad/index.html">
    <div id="R-body" class="default-animation">
      <div id="R-body-overlay"></div>
      <nav id="R-topbar">
        <div class="topbar-wrapper">
          <div class="topbar-sidebar-divider"></div>
          <div class="topbar-area topbar-area-start" data-area="start">
            <div class="topbar-button topbar-button-sidebar" data-content-empty="disable" data-width-s="show" data-width-m="hide" data-width-l="hide"><button class="topbar-control" onclick="toggleNav()" type="button" title="Menu (CTRL&#43;ALT&#43;n)"><i class="fa-fw fas fa-bars"></i></button>
            </div>
            <div class="topbar-button topbar-button-toc" data-content-empty="hide" data-width-s="show" data-width-m="show" data-width-l="show"><button class="topbar-control" onclick="toggleTopbarFlyout(this)" type="button" title="Table of Contents (CTRL&#43;ALT&#43;t)"><i class="fa-fw fas fa-list-alt"></i></button>
              <div class="topbar-content">
                <div class="topbar-content-wrapper">
<nav class="TableOfContents">
  <ul>
    <li><a href="#defining-a-textured-quad">Defining a Textured Quad</a>
      <ul>
        <li><a href="#defining-the-vertices">Defining the Vertices</a></li>
        <li><a href="#defining-the-indices">Defining the Indices</a></li>
      </ul>
    </li>
    <li><a href="#initializing-the-effect">Initializing the Effect</a>
      <ul>
        <li><a href="#draw-method">Draw() Method</a></li>
        <li><a href="#the-quad-constructor">The Quad Constructor</a></li>
      </ul>
    </li>
    <li><a href="#adding-our-quad-to-game1">Adding our Quad to Game1</a></li>
  </ul>
</nav>
                </div>
              </div>
            </div>
          </div>
          <ol class="topbar-breadcrumbs breadcrumbs highlightable" itemscope itemtype="http://schema.org/BreadcrumbList"><li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement" class="a11y-only"><a itemprop="item" href="/cis580/index.html"><span itemprop="name">CIS 580: Foundations of Game Programming</span></a><meta itemprop="position" content="1">&nbsp;>&nbsp;</li><li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement" class=""><a itemprop="item" href="/cis580/13-basic-3d-rendering/index.html"><span itemprop="name">Basic 3D Rendering</span></a><meta itemprop="position" content="2">&nbsp;>&nbsp;</li><li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement" class=""><span itemprop="name">Rendering a Textured Quad</span><meta itemprop="position" content="3"></li>
          </ol>
          <div class="topbar-area topbar-area-end" data-area="end">
            <div class="topbar-button topbar-button-edit" data-content-empty="disable" data-width-s="area-more" data-width-m="show" data-width-l="show"><a class="topbar-control" href="https://github.com/ksu-cs-textbooks/cis580/edit/master/content/13-basic-3d-rendering/03-rendering-a-textured-quad.md" rel="external" target="_blank" title="Edit (CTRL+ALT+w)"><i class="fa-fw fas fa-pen"></i></a>
            </div>
            <div class="topbar-button topbar-button-print" data-content-empty="disable" data-width-s="area-more" data-width-m="show" data-width-l="show"><a class="topbar-control" href="/cis580/13-basic-3d-rendering/03-rendering-a-textured-quad/index.print.html" title="Print whole chapter (CTRL+ALT+p)"><i class="fa-fw fas fa-print"></i></a>
            </div>
            <div class="topbar-button topbar-button-prev" data-content-empty="disable" data-width-s="show" data-width-m="show" data-width-l="show"><a class="topbar-control" href="/cis580/13-basic-3d-rendering/02-it-starts-with-triangles/index.html" title="It Starts with Triangles (🡐)"><i class="fa-fw fas fa-chevron-left"></i></a>
            </div>
            <div class="topbar-button topbar-button-next" data-content-empty="disable" data-width-s="show" data-width-m="show" data-width-l="show"><a class="topbar-control" href="/cis580/13-basic-3d-rendering/04-rendering-a-cube/index.html" title="Rendering a Cube (🡒)"><i class="fa-fw fas fa-chevron-right"></i></a>
            </div>
            <div class="topbar-button topbar-button-more" data-content-empty="hide" data-width-s="show" data-width-m="show" data-width-l="show"><button class="topbar-control" onclick="toggleTopbarFlyout(this)" type="button" title="More"><i class="fa-fw fas fa-ellipsis-v"></i></button>
              <div class="topbar-content">
                <div class="topbar-content-wrapper">
                  <div class="topbar-area topbar-area-more" data-area="more">
            <div class="topbar-button topbar-button-embed" data-content-empty="disable" data-width-s="area-more" data-width-m="show" data-width-l="show"><a class="topbar-control" href="/cis580/13-basic-3d-rendering/03-rendering-a-textured-quad/embed.html" title="Embeddable Version"><i class="fa-fw fas fa-expand-arrows-alt"></i></a>
            </div>
            <div class="topbar-button topbar-button-tele" data-content-empty="disable" data-width-s="area-more" data-width-m="show" data-width-l="show"><a class="topbar-control" href="/cis580/13-basic-3d-rendering/03-rendering-a-textured-quad/tele.html" title="Teleprompter View"><i class="fa-fw fas fa-tv"></i></a>
            </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </nav>
      <div id="R-main-overlay"></div>
      <main id="R-body-inner" class="highlightable 13-basic-3d-rendering" tabindex="-1">
        <div class="flex-block-wrapper">
<article class="default">
  <header class="headline">
  </header>

<h1 id="rendering-a-textured-quad">Rendering a Textured Quad</h1>

<p>While the point of a <code>TriangleStrip</code> is to optimize by reducing the number of vertices, in most cases it still will have repeats, and it is difficult to define a complex mesh out of a single strip.  Thus, in addition to vertices, we can provide <em>indices</em> to specific vertices.  The collection of indices contains nothing more than integers referencing vertices in the vertices collection.  This means each unique vertex needs to be defined exactly once, and the indices take on the role of defining the triangles by giving the position of each successive vertex in the triangle list in the vertex array.</p>
<h2 id="defining-a-textured-quad">Defining a Textured Quad</h2>
<p>Let&rsquo;s give this a try by defining a <code>Quad</code> class with both vertices and indices:</p>
<div class="highlight" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#75715e">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/// A class representing a quad (a rectangle composed of two triangles)</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Quad</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// The vertices of the quad</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>    VertexPositionTexture[] vertices;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// The vertex indices of the quad</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">short</span>[] indices;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// The effect to use rendering the triangle</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>    BasicEffect effect;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// The game this cube belongs to </span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>    Game game;
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
<p>You will note that instead of our vertex structure being a <code>VertexPositionColor</code>, this time we&rsquo;re using <code>VertexPositionTexture</code>.  Instead of giving each vertex a color, this time we&rsquo;ll be giving it a texture coordinate, and having our <code>effect</code> apply a texture to the face of the quad.</p>
<p>Note also that we use the <code>short</code> data type for our index array.  As a quad has only four vertices (one in each corner), we only need four vertices to define one.  If our vertices start at index 0, that means we only need to represent indices 1-4, so a short is more than sufficient.  With a larger vertex array, we might need to use a larger type of integer.</p>
<h3 id="defining-the-vertices">Defining the Vertices</h3>
<p>As with our triangle, we&rsquo;ll initialize our vertices in a helper method, <code>InitializeVertices</code>:</p>
<div class="highlight" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// Initializes the vertices of our quad</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> InitializeVertices() {
</span></span><span style="display:flex;"><span>        vertices = <span style="color:#66d9ef">new</span> VertexPositionTexture[<span style="color:#ae81ff">4</span>];
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Define vertex 0 (top left)</span>
</span></span><span style="display:flex;"><span>        vertices[<span style="color:#ae81ff">0</span>].Position = <span style="color:#66d9ef">new</span> Vector3(-<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">0</span>);
</span></span><span style="display:flex;"><span>        vertices[<span style="color:#ae81ff">0</span>].TextureCoordinate = <span style="color:#66d9ef">new</span> Vector2(<span style="color:#ae81ff">0</span>, -<span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Define vertex 1 (top right)</span>
</span></span><span style="display:flex;"><span>        vertices[<span style="color:#ae81ff">1</span>].Position = <span style="color:#66d9ef">new</span> Vector3(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">0</span>);
</span></span><span style="display:flex;"><span>        vertices[<span style="color:#ae81ff">1</span>].TextureCoordinate = <span style="color:#66d9ef">new</span> Vector2(<span style="color:#ae81ff">1</span>, -<span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// define vertex 2 (bottom right)</span>
</span></span><span style="display:flex;"><span>        vertices[<span style="color:#ae81ff">2</span>].Position = <span style="color:#66d9ef">new</span> Vector3(<span style="color:#ae81ff">1</span>, -<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">0</span>);
</span></span><span style="display:flex;"><span>        vertices[<span style="color:#ae81ff">2</span>].TextureCoordinate = <span style="color:#66d9ef">new</span> Vector2(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">0</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// define vertex 3 (bottom left) </span>
</span></span><span style="display:flex;"><span>        vertices[<span style="color:#ae81ff">3</span>].Position = <span style="color:#66d9ef">new</span> Vector3(-<span style="color:#ae81ff">1</span>, -<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">0</span>);
</span></span><span style="display:flex;"><span>        vertices[<span style="color:#ae81ff">3</span>].TextureCoordinate = <span style="color:#66d9ef">new</span> Vector2(<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>);
</span></span><span style="display:flex;"><span>    }</span></span></code></pre></div>
<p>The quad is two by two, centered on the origin.  The texture coordinates are expressed as floats that fall in the range [0 &hellip; 1].  The texture coordinate (0,0) is the upper-left hand corner of our texture, and (1, 1) is the lower-right corner.</p>
<h3 id="defining-the-indices">Defining the Indices</h3>
<p>Now let&rsquo;s define our indices in their own helper method, <code>InitializeIndices</code>.  Let&rsquo;s assume we&rsquo;re using a triangle list, so we&rsquo;ll need to define all six vertices (with a triangle strip we could cut this to 4):</p>
<div class="highlight" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// Initialize the indices of our quad</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> InitializeIndices() {
</span></span><span style="display:flex;"><span>        indices = <span style="color:#66d9ef">new</span> <span style="color:#66d9ef">short</span>[<span style="color:#ae81ff">6</span>];
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Define triangle 0 </span>
</span></span><span style="display:flex;"><span>        indices[<span style="color:#ae81ff">0</span>] = <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>        indices[<span style="color:#ae81ff">1</span>] = <span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>        indices[<span style="color:#ae81ff">2</span>] = <span style="color:#ae81ff">2</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// define triangle 1</span>
</span></span><span style="display:flex;"><span>        indices[<span style="color:#ae81ff">3</span>] = <span style="color:#ae81ff">2</span>;
</span></span><span style="display:flex;"><span>        indices[<span style="color:#ae81ff">4</span>] = <span style="color:#ae81ff">3</span>;
</span></span><span style="display:flex;"><span>        indices[<span style="color:#ae81ff">5</span>] = <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    }</span></span></code></pre></div>
<h2 id="initializing-the-effect">Initializing the Effect</h2>
<p>And we&rsquo;ll need to set up our effect, which we&rsquo;ll again do in a method named <code>InitializeEffect()</code>:</p>
<div class="highlight" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// Initializes the basic effect used to draw the quad</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> InitializeEffect()
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        effect = <span style="color:#66d9ef">new</span> BasicEffect(game.GraphicsDevice);
</span></span><span style="display:flex;"><span>        effect.World = Matrix.Identity;
</span></span><span style="display:flex;"><span>        effect.View = Matrix.CreateLookAt(
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">new</span> Vector3(<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">4</span>), <span style="color:#75715e">// The camera position</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">new</span> Vector3(<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>), <span style="color:#75715e">// The camera target,</span>
</span></span><span style="display:flex;"><span>            Vector3.Up            <span style="color:#75715e">// The camera up vector</span>
</span></span><span style="display:flex;"><span>        );
</span></span><span style="display:flex;"><span>        effect.Projection = Matrix.CreatePerspectiveFieldOfView(
</span></span><span style="display:flex;"><span>            MathHelper.PiOver4,                         <span style="color:#75715e">// The field-of-view </span>
</span></span><span style="display:flex;"><span>            game.GraphicsDevice.Viewport.AspectRatio,   <span style="color:#75715e">// The aspect ratio</span>
</span></span><span style="display:flex;"><span>            <span style="color:#ae81ff">0.1f</span>, <span style="color:#75715e">// The near plane distance </span>
</span></span><span style="display:flex;"><span>            <span style="color:#ae81ff">100.0f</span> <span style="color:#75715e">// The far plane distance</span>
</span></span><span style="display:flex;"><span>        );
</span></span><span style="display:flex;"><span>        effect.TextureEnabled = <span style="color:#66d9ef">true</span>;
</span></span><span style="display:flex;"><span>        effect.Texture = game.Content.Load&lt;Texture2D&gt;(<span style="color:#e6db74">&#34;monogame-logo&#34;</span>);
</span></span><span style="display:flex;"><span>    }</span></span></code></pre></div>
<p>This looks almost identical to our triangle example.  The only difference is in the last two lines - instead of setting <code>effect.VertexColorEnabled</code>, we&rsquo;re setting <code>effect.TextureEnabled</code> to <code>true</code>, and providing the <em>monogame-logo.png</em> texture to the <code>effect</code>.</p>
<h3 id="draw-method">Draw() Method</h3>
<p>Now let&rsquo;s write our <code>Draw()</code> method:</p>
<div class="highlight" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// Draws the quad</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> Draw()
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        effect.CurrentTechnique.Passes[<span style="color:#ae81ff">0</span>].Apply();
</span></span><span style="display:flex;"><span>        game.GraphicsDevice.DrawUserIndexedPrimitives&lt;VertexPositionTexture&gt;(
</span></span><span style="display:flex;"><span>            PrimitiveType.TriangleList,
</span></span><span style="display:flex;"><span>            vertices,   <span style="color:#75715e">// The vertex collection</span>
</span></span><span style="display:flex;"><span>            <span style="color:#ae81ff">0</span>,          <span style="color:#75715e">// The starting index in the vertex array</span>
</span></span><span style="display:flex;"><span>            <span style="color:#ae81ff">4</span>,          <span style="color:#75715e">// The number of indices in the shape</span>
</span></span><span style="display:flex;"><span>            indices,    <span style="color:#75715e">// The index collection</span>
</span></span><span style="display:flex;"><span>            <span style="color:#ae81ff">0</span>,          <span style="color:#75715e">// The starting index in the index array</span>
</span></span><span style="display:flex;"><span>            <span style="color:#ae81ff">2</span>           <span style="color:#75715e">// The number of triangles to draw</span>
</span></span><span style="display:flex;"><span>        );
</span></span><span style="display:flex;"><span>    }</span></span></code></pre></div>
<h3 id="the-quad-constructor">The Quad Constructor</h3>
<p>To wrap up the <code>Quad</code>, we&rsquo;ll need to add a constructor that takes a parameter of type <code>Game</code> and invokes our initialization:</p>
<div class="highlight" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// Constructs the Quad</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;param name=&#34;game&#34;&gt;The Game the Quad belongs to&lt;/param&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> Quad(Game game)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.game = game;
</span></span><span style="display:flex;"><span>        InitializeVertices();
</span></span><span style="display:flex;"><span>        InitializeIndices();
</span></span><span style="display:flex;"><span>        InitializeEffect();
</span></span><span style="display:flex;"><span>    }   </span></span></code></pre></div>
<h2 id="adding-our-quad-to-game1">Adding our Quad to Game1</h2>
<p>Now let&rsquo;s use our <code>Quad</code> in <code>Game1</code>.  Add a field for the quad to the <code>Game1</code> class:</p>
<div class="highlight" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>    <span style="color:#75715e">// The quad to draw</span>
</span></span><span style="display:flex;"><span>    Quad quad;</span></span></code></pre></div>
<p>And construct it in our <code>Game1.LoadContent()</code>.  We want to be sure the graphics device is set up before we construct our <code>Quad</code>, so this is a good spot:</p>
<div class="highlight" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>    <span style="color:#75715e">// Create the quad</span>
</span></span><span style="display:flex;"><span>    quad = <span style="color:#66d9ef">new</span> Quad(<span style="color:#66d9ef">this</span>);</span></span></code></pre></div>
<p>And finally, let&rsquo;s render it in our <code>Game1.Draw()</code> method:</p>
<div class="highlight" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>    <span style="color:#75715e">// Draw the quad</span>
</span></span><span style="display:flex;"><span>    quad.Draw();</span></span></code></pre></div>
<p>If you run your code, you should now see the textured quad rendered:</p>
<p><a href="#R-image-aa472a3503c5c29599029b25b52632f9" class="lightbox-link"><img alt="The rendered quad" class="border lazy lightbox figure-image" loading="lazy" src="/cis580/images/basic-3d-3.1.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-aa472a3503c5c29599029b25b52632f9"><img alt="The rendered quad" class="border lazy lightbox lightbox-image" loading="lazy" src="/cis580/images/basic-3d-3.1.png"></a></p>
<p>Notice that even though our texture has a transparent background, the background is rendered in black.  Alpha blending is managed by the <code>GraphicsDevice.BlendState</code>, so we&rsquo;ll need to tweak it before we draw the quad:</p>
<div class="highlight" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>    game.GraphicsDevice.BlendState = BlendState.AlphaBlend;</span></span></code></pre></div>
<p>Notice the <a href="https://www.monogame.net/documentation/?page=T_Microsoft_Xna_Framework_Graphics_BlendState" rel="external" target="_blank">BlendState</a> class is the same one we used with <code>SpriteBatch</code> - and it works the same way.</p>
<p>If you run the game now, the logo&rsquo;s background will be properly transparent.</p>
<p>Just as with the <code>RasterizerState</code>, it is a good idea to restore the old <code>BlendState</code>.  So our final <code>Quad.Draw()</code> method might look like:</p>
<div class="highlight" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#75715e">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/// Draws the quad</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> Draw()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Cache the old blend state </span>
</span></span><span style="display:flex;"><span>    BlendState oldBlendState = game.GraphicsDevice.BlendState;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Enable alpha blending </span>
</span></span><span style="display:flex;"><span>    game.GraphicsDevice.BlendState = BlendState.AlphaBlend;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Apply our effect</span>
</span></span><span style="display:flex;"><span>    effect.CurrentTechnique.Passes[<span style="color:#ae81ff">0</span>].Apply();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Render the quad</span>
</span></span><span style="display:flex;"><span>    game.GraphicsDevice.DrawUserIndexedPrimitives&lt;VertexPositionTexture&gt;(
</span></span><span style="display:flex;"><span>        PrimitiveType.TriangleList,
</span></span><span style="display:flex;"><span>        vertices,   <span style="color:#75715e">// The vertex collection</span>
</span></span><span style="display:flex;"><span>        <span style="color:#ae81ff">0</span>,          <span style="color:#75715e">// The starting index in the vertex array</span>
</span></span><span style="display:flex;"><span>        <span style="color:#ae81ff">4</span>,          <span style="color:#75715e">// The number of indices in the shape</span>
</span></span><span style="display:flex;"><span>        indices,    <span style="color:#75715e">// The index collection</span>
</span></span><span style="display:flex;"><span>        <span style="color:#ae81ff">0</span>,          <span style="color:#75715e">// The starting index in the index array</span>
</span></span><span style="display:flex;"><span>        <span style="color:#ae81ff">2</span>           <span style="color:#75715e">// The number of triangles to draw</span>
</span></span><span style="display:flex;"><span>    );
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Restore the old blend state </span>
</span></span><span style="display:flex;"><span>    game.GraphicsDevice.BlendState = oldBlendState;
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
<p>This <code>Quad</code> is very similar to the sprites we&rsquo;ve worked with already - in fact, the <code>SpriteBatch</code> is an optimized way of drawing a lot of textured quads.  It also configures the graphics device and has its own effect, the <a href="https://www.monogame.net/documentation/?page=T_Microsoft_Xna_Framework_Graphics_SpriteEffect" rel="external" target="_blank">SpriteEffect</a>.  Because of this optimization, in most cases, you&rsquo;ll want to use the <code>SpriteBatch</code> for textured quads.  But it is good to understand how it is drawing 2D sprites using the 3D pipeline.</p>
<p>Speaking of&hellip; so far we&rsquo;ve only drawn 2D shapes in a 3D world.  Let&rsquo;s move on to an actual 3D shape next.</p>

  <footer class="footline">
  </footer>
</article>
        </div>
      </main>
<div class="git-footer">
  <p class="theme-version-footer">8.0.0</p>
<p>Last modified by:
              <i class='fa-fw fas fa-user'></i> Russell Feldhausen
              <i class='fas fa-calendar'></i> <a href="https://github.com/ksu-cs-textbooks/cis580/commit/43f194969a638fa4572819da4b31060ad574a9ce">Aug 11, 2023</a>
</p>

</div>
    </div>
    <script src="/cis580/js/clipboard/clipboard.min.js?1756153111" defer></script>
    <script src="/cis580/js/perfect-scrollbar/perfect-scrollbar.min.js?1756153111" defer></script>
    <script src="/cis580/js/theme.min.js?1756153111" defer></script>
  </body>
</html>
