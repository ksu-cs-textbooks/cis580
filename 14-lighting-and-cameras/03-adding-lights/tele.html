<!DOCTYPE html>

<html lang="en-us" dir="ltr" itemscope itemtype="http://schema.org/Article" data-r-output-format="html">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.128.0">
    <meta name="generator" content="Relearn 8.0.0">
    <meta name="description" content="Well, we have a crate. Let’s make it more interesting by adding some lights. To start with, we’ll use the BasicEffect’s default lights. Add the line:
effect.EnableDefaultLighting(); Into your Crate.IntializeEffect() method. Then run the program again. Notice a difference?
.
The default lighting is useful to quickly see what our object will look like illuminated, but ultimately, we’ll want to define our own lights and how they interact with our objects.">
    <meta name="author" content="Nathan H. Bean">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="https://textbooks.cs.ksu.edu/cis580/images/hero.png">
    <meta name="twitter:title" content="Adding Lights :: K-State CIS 580 Textbook">
    <meta name="twitter:description" content="Well, we have a crate. Let’s make it more interesting by adding some lights. To start with, we’ll use the BasicEffect’s default lights. Add the line:
effect.EnableDefaultLighting(); Into your Crate.IntializeEffect() method. Then run the program again. Notice a difference?
.
The default lighting is useful to quickly see what our object will look like illuminated, but ultimately, we’ll want to define our own lights and how they interact with our objects.">
    <meta property="og:url" content="https://textbooks.cs.ksu.edu/cis580/14-lighting-and-cameras/03-adding-lights/index.html">
    <meta property="og:site_name" content="K-State CIS 580 Textbook">
    <meta property="og:title" content="Adding Lights :: K-State CIS 580 Textbook">
    <meta property="og:description" content="Well, we have a crate. Let’s make it more interesting by adding some lights. To start with, we’ll use the BasicEffect’s default lights. Add the line:
effect.EnableDefaultLighting(); Into your Crate.IntializeEffect() method. Then run the program again. Notice a difference?
.
The default lighting is useful to quickly see what our object will look like illuminated, but ultimately, we’ll want to define our own lights and how they interact with our objects.">
    <meta property="og:locale" content="en_us">
    <meta property="og:type" content="article">
    <meta property="article:section" content="Lighting and Cameras">
    <meta property="article:published_time" content="2020-03-24T10:00:00-05:00">
    <meta property="article:modified_time" content="2023-08-11T11:18:05-05:00">
    <meta property="og:image" content="https://textbooks.cs.ksu.edu/cis580/images/hero.png">
    <meta itemprop="name" content="Adding Lights :: K-State CIS 580 Textbook">
    <meta itemprop="description" content="Well, we have a crate. Let’s make it more interesting by adding some lights. To start with, we’ll use the BasicEffect’s default lights. Add the line:
effect.EnableDefaultLighting(); Into your Crate.IntializeEffect() method. Then run the program again. Notice a difference?
.
The default lighting is useful to quickly see what our object will look like illuminated, but ultimately, we’ll want to define our own lights and how they interact with our objects.">
    <meta itemprop="datePublished" content="2020-03-24T10:00:00-05:00">
    <meta itemprop="dateModified" content="2023-08-11T11:18:05-05:00">
    <meta itemprop="wordCount" content="675">
    <meta itemprop="image" content="https://textbooks.cs.ksu.edu/cis580/images/hero.png">
    <title>Adding Lights :: K-State CIS 580 Textbook</title>
    <link href="https://textbooks.cs.ksu.edu/cis580/14-lighting-and-cameras/03-adding-lights/index.html" rel="canonical" type="text/html" title="Adding Lights :: K-State CIS 580 Textbook">
    <link href="/cis580/14-lighting-and-cameras/03-adding-lights/index.xml" rel="alternate" type="application/rss+xml" title="Adding Lights :: K-State CIS 580 Textbook">
    <link href="/cis580/14-lighting-and-cameras/03-adding-lights/index.print.html" rel="alternate" type="text/html" title="Adding Lights :: K-State CIS 580 Textbook">
    <link href="/cis580/14-lighting-and-cameras/03-adding-lights/embed.html" rel="alternate" type="text/html" title="Adding Lights :: K-State CIS 580 Textbook">
    <link href="/cis580/css/auto-complete/auto-complete.min.css?1756153111" rel="stylesheet">
    <script src="/cis580/js/auto-complete/auto-complete.min.js?1756153111" defer></script>
    <script src="/cis580/js/search-lunr.min.js?1756153111" defer></script>
    <script src="/cis580/js/search.min.js?1756153111" defer></script>
    <script>
      window.relearn = window.relearn || {};
      window.relearn.index_js_url="/cis580/searchindex.en.js?1756153111";
    </script>
    <script src="/cis580/js/lunr/lunr.min.js?1756153111" defer></script>
    <script src="/cis580/js/lunr/lunr.stemmer.support.min.js?1756153111" defer></script>
    <script src="/cis580/js/lunr/lunr.multi.min.js?1756153111" defer></script>
    <script src="/cis580/js/lunr/lunr.en.min.js?1756153111" defer></script>
    <script>
      window.relearn = window.relearn || {};
      window.relearn.contentLangs=['en'];
    </script>
    <link href="/cis580/fonts/fontawesome/css/fontawesome-all.min.css?1756153111" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/cis580/fonts/fontawesome/css/fontawesome-all.min.css?1756153111" rel="stylesheet"></noscript>
    <link href="/cis580/css/perfect-scrollbar/perfect-scrollbar.min.css?1756153111" rel="stylesheet">
    <link href="/cis580/css/theme.min.css?1756153111" rel="stylesheet">
    <link href="/cis580/css/format-html.min.css?1756153111" rel="stylesheet" id="R-format-style">
    <script>
      window.relearn = window.relearn || {};
      // configuration
      window.relearn.min = `.min`;
      window.relearn.path='\/14-lighting-and-cameras\/03-adding-lights\/index.html';
      window.relearn.relBasePath='..\/..';
      window.relearn.relBaseUri='..\/..\/..';
      window.relearn.absBaseUri='https:\/\/textbooks.cs.ksu.edu\/cis580';
      window.relearn.disableAnchorCopy=false;
      window.relearn.disableAnchorScrolling=false;
      window.relearn.disableInlineCopyToClipboard=true;
      window.relearn.enableBlockCodeWrap=false;
      // legal
      window.relearn.getItem = (s,n) => {return s.getItem(n)};
      window.relearn.setItem = (s,n,v) => {return s.setItem(n,v)};
      window.relearn.removeItem = (s,n) => {return s.removeItem(n)};
      // translations
      window.T_Copy_to_clipboard = `Copy to clipboard`;
      window.T_Copied_to_clipboard = `Copied to clipboard!`;
      window.T_Copy_link_to_clipboard = `Copy link to clipboard`;
      window.T_Link_copied_to_clipboard = `Copied link to clipboard!`;
      window.T_Reset_view = `Reset view`;
      window.T_View_reset = `View reset!`;
      window.T_No_results_found = `No results found for "{0}"`;
      window.T_N_results_found = `{1} results found for "{0}"`;
      // variant stuff
      window.relearn.themevariants = [ 'light-theme' ];
      window.relearn.customvariantname = "my-custom-variant";
      // [x] russfeld
      window.relearn.writeVariant=false;
      window.relearn.changeVariant = function(variant) {
        var oldVariant = document.documentElement.dataset.rThemeVariant;
        window.relearn.setItem(window.localStorage, window.relearn.absBaseUri + "/variant", variant);
        document.documentElement.dataset.rThemeVariant = variant;
        if (oldVariant != variant) {
          document.dispatchEvent( new CustomEvent('themeVariantLoaded', { detail: { variant, oldVariant } }) );
          window.relearn.markVariant();
        }
      }
      window.relearn.markVariant = function() {
        var variant = window.relearn.getItem(window.localStorage, window.relearn.absBaseUri + "/variant");
        document.querySelectorAll(".R-variantswitcher select").forEach((select) => {select.value = variant;});
      }
      window.relearn.initVariant = function() {
        var variant = window.relearn.getItem(window.localStorage, window.relearn.absBaseUri + "/variant") ?? "";
        if( variant == window.relearn.customvariantname ){
        }else if( !variant || !window.relearn.themevariants.includes(variant) ){
          variant = window.relearn.themevariants[0];
          
          if (window.relearn.writeVariant) {
            window.relearn.setItem(window.localStorage, window.relearn.absBaseUri + "/variant", variant);
          }
        }
        document.documentElement.dataset.rThemeVariant = variant;
      }
      window.relearn.initVariant();
      window.relearn.markVariant();
    </script>
    <link href="/cis580/css/custom.css?1756153111" rel="stylesheet">
  </head>
  <body class="mobile-support html" data-url="/cis580/14-lighting-and-cameras/03-adding-lights/index.html">
    
    <div id="tele" class="tele mirror">
    
    <div id="R-body" class="default-animation">
      <div id="R-body-overlay"></div>
      
      
      
      <div id="R-main-overlay"></div>
      <main id="R-body-inner" class="highlightable 14-lighting-and-cameras" tabindex="-1">
        <div class="flex-block-wrapper">
<article class="default">
  <header class="headline">
  </header>

<h1 id="adding-lights">Adding Lights</h1>

<p>Well, we have a crate.  Let&rsquo;s make it more interesting by adding some lights.  To start with, we&rsquo;ll use the <code>BasicEffect</code>&rsquo;s default lights.  Add the line:</p>
<div class="highlight" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>effect.EnableDefaultLighting();</span></span></code></pre></div>
<p>Into your <code>Crate.IntializeEffect()</code> method.  Then run the program again.  Notice a difference?</p>
<p><a href="#R-image-80981978fc137c5fb6e7adf48904aff2" class="lightbox-link"><img alt="Side-by-side comparison of a lit and unlit crate" class="border lazy lightbox figure-image" loading="lazy" src="/cis580/images/lighting-and-cameras-3.1.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-80981978fc137c5fb6e7adf48904aff2"><img alt="Side-by-side comparison of a lit and unlit crate" class="border lazy lightbox lightbox-image" loading="lazy" src="/cis580/images/lighting-and-cameras-3.1.png"></a>.</p>
<p>The default lighting is useful to quickly see what our object will look like illuminated, but ultimately, we&rsquo;ll want to define our own lights and how they interact with our objects.</p>
<h2 id="lighting-calculations">Lighting Calculations</h2>
<p>The <code>BasicEffect</code> uses the <a href="https://en.wikipedia.org/wiki/Phong_shading" rel="external" target="_blank">Phong shading model</a> (named after its inventor, Bui Tuong Phong).  This model approximates shading accounting for the smoothness of the object.  It uses an equation to calculate the color of each pixel.  This equation appears in the image below:</p>
<p><a href="#R-image-e83acc398fbd80369b54f07642e9adbc" class="lightbox-link"><img alt="Phong equation" class="border lazy lightbox figure-image" loading="lazy" src="/cis580/images/phong-equation.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-e83acc398fbd80369b54f07642e9adbc"><img alt="Phong equation" class="border lazy lightbox lightbox-image" loading="lazy" src="/cis580/images/phong-equation.png"></a></p>
<p>Essentailly, the Phong approach calculates three different lighting values, and combines them into shading values to apply to a model.  Each of these is based on the behavior of light, which is a particle (and a wave) that travels in (largely) stright lines.  We can think of these lines as rays.</p>
<p>The first is <em>ambient</em> light, which reprsents light that has been bouncing around the scene so much that it is hitting our object from all directions.  Rather than try to capture that chaos, the Phong model simply substitutes a single flat value that is applied to all surfaces in the scene.  In a brightly lit scene, this might be a high value; for a creepy night scene, we would use a very low value to provide only dim illumination away from light sources.</p>
<p>The second is <em>diffuse</em> light, which is the light that strikes a surface and scatters.  We choose the strength of this light based on the characteristics of the material.  Rough materials have more diffuse light, as the light striking the surface bounces off in all directions, so only some of it is toward the observer.</p>
<p>The third is <em>specular</em> light, which is <em>also</em> light that strikes a surface and bounces off, and is chosen by the properties of the material.  However, high specular light corresponds to smooth surfaces - because they are smooth, light rays that strike near one another tend to bounce the same direction.  Hence, light that is striking at the right angle will all bounce towards the veiwer, creating &ldquo;hot spots&rdquo; of very bright color.</p>
<p>These calculations are based on the angle between the surface and the viewer - this is why we need to provide a normal, as well as a direction the camera is looking and a direction the light is coming from; the angles between these vectors are used in calculating these lighting components.</p>
<p>The <code>BasicEffect</code> uses the <a href="https://www.monogame.net/documentation/?page=T_Microsoft_Xna_Framework_Graphics_DirectionalLight" rel="external" target="_blank">DirectionalLight class</a> to represent lights.  You define the diffuse and specular color as <code>Vector3</code> objects (where the x,y,and z correspond to rgb values, within the range [0..1] where 0 is no light, and 1 is full light).  You also define a direction the light is coming from as a <code>Vector3</code>.  Since ambient light doesn&rsquo;t have a direction, you simply represent it with a color <code>Vector3</code>.  When the object is rendered, the shader combines those color contributions of each light additively with the colors sampled from the texture(s) that are being applied.  We can define up to three directional light sources with the <code>BasicEffect</code>.</p>
<h2 id="customizing-our-crate-lighting">Customizing our Crate Lighting</h2>
<p>Let&rsquo;s see this in action.  Delete the <code>effect.EnableDefaultLighting()</code> line in your <code>Crate.InitializeEffect()</code> and replace it with:</p>
<div class="highlight" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>    <span style="color:#75715e">// Turn on lighting</span>
</span></span><span style="display:flex;"><span>    effect.LightingEnabled = <span style="color:#66d9ef">true</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Set up light 0</span>
</span></span><span style="display:flex;"><span>    effect.DirectionalLight0.Enabled = <span style="color:#66d9ef">true</span>;
</span></span><span style="display:flex;"><span>    effect.DirectionalLight0.Direction = <span style="color:#66d9ef">new</span> Vector3(<span style="color:#ae81ff">1f</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">1f</span>);
</span></span><span style="display:flex;"><span>    effect.DirectionalLight0.DiffuseColor = <span style="color:#66d9ef">new</span> Vector3(<span style="color:#ae81ff">0.8f</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>);
</span></span><span style="display:flex;"><span>    effect.DirectionalLight0.SpecularColor = <span style="color:#66d9ef">new</span> Vector3(<span style="color:#ae81ff">1f</span>, <span style="color:#ae81ff">0.4f</span>, <span style="color:#ae81ff">0.4f</span>);</span></span></code></pre></div>
<p>Notice the difference?  We&rsquo;re shining a red light onto our crate from an oblique angle, above and to the left.</p>
<p><a href="#R-image-fe3448969663831a409d3607dc96c49b" class="lightbox-link"><img alt="The Illuminated Crate" class="border lazy lightbox figure-image" loading="lazy" src="/cis580/images/lighting-and-cameras-3.2.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-fe3448969663831a409d3607dc96c49b"><img alt="The Illuminated Crate" class="border lazy lightbox lightbox-image" loading="lazy" src="/cis580/images/lighting-and-cameras-3.2.png"></a></p>
<p>Notice how one face of the crate is in complete shadow?  Let&rsquo;s add some ambient light with the command:</p>
<div class="highlight" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>    effect.AmbientLightColor = <span style="color:#66d9ef">new</span> Vector3(<span style="color:#ae81ff">0.3f</span>, <span style="color:#ae81ff">0.3f</span>, <span style="color:#ae81ff">0.3f</span>);</span></span></code></pre></div>
<p><a href="#R-image-9f0d98e61db5718cee1c0980a7066500" class="lightbox-link"><img alt="The crate with ambient light" class="border lazy lightbox figure-image" loading="lazy" src="/cis580/images/lighting-and-cameras-3.3.png" style=" height: auto; width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-9f0d98e61db5718cee1c0980a7066500"><img alt="The crate with ambient light" class="border lazy lightbox lightbox-image" loading="lazy" src="/cis580/images/lighting-and-cameras-3.3.png"></a></p>
<p>Notice how the shadowed face is now somewhat visible?</p>
<p>Go ahead and try tweaking the values for <code>AmbientLightColor</code> and <code>DirectionalLight0</code>, and see how that changes the way your crate looks.  You can also set the properties of <code>DirectionalLight1</code> and <code>DirectionalLight2</code>.</p>

  <footer class="footline">
  </footer>
</article>
        </div>
      </main>
      
      
      
    </div>
    <script src="/cis580/js/clipboard/clipboard.min.js?1756153111" defer></script>
    <script src="/cis580/js/perfect-scrollbar/perfect-scrollbar.min.js?1756153111" defer></script>
    <script src="/cis580/js/theme.min.js?1756153111" defer></script>
      
      
      
    </div> 
  <script src="/cis580/js/tele-scroll.min.js?1756153111" defer></script>
  </body>
</html>
