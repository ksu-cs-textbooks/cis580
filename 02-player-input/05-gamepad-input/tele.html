<!DOCTYPE html>

<html lang="en-us" dir="ltr" itemscope itemtype="http://schema.org/Article" data-r-output-format="html">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.128.0">
    <meta name="generator" content="Relearn 8.0.0">
    <meta name="description" content="MonoGame handles gamepad input in a similar fashion to Keyboard and Mouse input. For example, there is a static GamePad class and a GamePadState struct.
Player Indices However, XNA was originally designed to work with the XBox 360, which supported up to four players connected through XBox 360 gamepads. Thus, instead of using GamePad.GetState() we would use GamePad.GetState(PlayerIndex playerIndex), where the PlayerIndex enumeration value corresponded to which player’s gamepad we wanted to poll.">
    <meta name="author" content="Nathan H. Bean">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="https://textbooks.cs.ksu.edu/cis580/images/hero.png">
    <meta name="twitter:title" content="Gamepad Input :: K-State CIS 580 Textbook">
    <meta name="twitter:description" content="MonoGame handles gamepad input in a similar fashion to Keyboard and Mouse input. For example, there is a static GamePad class and a GamePadState struct.
Player Indices However, XNA was originally designed to work with the XBox 360, which supported up to four players connected through XBox 360 gamepads. Thus, instead of using GamePad.GetState() we would use GamePad.GetState(PlayerIndex playerIndex), where the PlayerIndex enumeration value corresponded to which player’s gamepad we wanted to poll.">
    <meta property="og:url" content="https://textbooks.cs.ksu.edu/cis580/02-player-input/05-gamepad-input/index.html">
    <meta property="og:site_name" content="K-State CIS 580 Textbook">
    <meta property="og:title" content="Gamepad Input :: K-State CIS 580 Textbook">
    <meta property="og:description" content="MonoGame handles gamepad input in a similar fashion to Keyboard and Mouse input. For example, there is a static GamePad class and a GamePadState struct.
Player Indices However, XNA was originally designed to work with the XBox 360, which supported up to four players connected through XBox 360 gamepads. Thus, instead of using GamePad.GetState() we would use GamePad.GetState(PlayerIndex playerIndex), where the PlayerIndex enumeration value corresponded to which player’s gamepad we wanted to poll.">
    <meta property="og:locale" content="en_us">
    <meta property="og:type" content="article">
    <meta property="article:section" content="Player Input">
    <meta property="article:published_time" content="2018-08-24T10:53:26-05:00">
    <meta property="article:modified_time" content="2021-01-27T16:28:21-06:00">
    <meta property="og:image" content="https://textbooks.cs.ksu.edu/cis580/images/hero.png">
    <meta itemprop="name" content="Gamepad Input :: K-State CIS 580 Textbook">
    <meta itemprop="description" content="MonoGame handles gamepad input in a similar fashion to Keyboard and Mouse input. For example, there is a static GamePad class and a GamePadState struct.
Player Indices However, XNA was originally designed to work with the XBox 360, which supported up to four players connected through XBox 360 gamepads. Thus, instead of using GamePad.GetState() we would use GamePad.GetState(PlayerIndex playerIndex), where the PlayerIndex enumeration value corresponded to which player’s gamepad we wanted to poll.">
    <meta itemprop="datePublished" content="2018-08-24T10:53:26-05:00">
    <meta itemprop="dateModified" content="2021-01-27T16:28:21-06:00">
    <meta itemprop="wordCount" content="655">
    <meta itemprop="image" content="https://textbooks.cs.ksu.edu/cis580/images/hero.png">
    <title>Gamepad Input :: K-State CIS 580 Textbook</title>
    <link href="https://textbooks.cs.ksu.edu/cis580/02-player-input/05-gamepad-input/index.html" rel="canonical" type="text/html" title="Gamepad Input :: K-State CIS 580 Textbook">
    <link href="/cis580/02-player-input/05-gamepad-input/index.xml" rel="alternate" type="application/rss+xml" title="Gamepad Input :: K-State CIS 580 Textbook">
    <link href="/cis580/02-player-input/05-gamepad-input/index.print.html" rel="alternate" type="text/html" title="Gamepad Input :: K-State CIS 580 Textbook">
    <link href="/cis580/02-player-input/05-gamepad-input/embed.html" rel="alternate" type="text/html" title="Gamepad Input :: K-State CIS 580 Textbook">
    <link href="/cis580/css/auto-complete/auto-complete.min.css?1755628803" rel="stylesheet">
    <script src="/cis580/js/auto-complete/auto-complete.min.js?1755628803" defer></script>
    <script src="/cis580/js/search-lunr.min.js?1755628803" defer></script>
    <script src="/cis580/js/search.min.js?1755628803" defer></script>
    <script>
      window.relearn = window.relearn || {};
      window.relearn.index_js_url="/cis580/searchindex.en.js?1755628803";
    </script>
    <script src="/cis580/js/lunr/lunr.min.js?1755628803" defer></script>
    <script src="/cis580/js/lunr/lunr.stemmer.support.min.js?1755628803" defer></script>
    <script src="/cis580/js/lunr/lunr.multi.min.js?1755628803" defer></script>
    <script src="/cis580/js/lunr/lunr.en.min.js?1755628803" defer></script>
    <script>
      window.relearn = window.relearn || {};
      window.relearn.contentLangs=['en'];
    </script>
    <link href="/cis580/fonts/fontawesome/css/fontawesome-all.min.css?1755628803" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/cis580/fonts/fontawesome/css/fontawesome-all.min.css?1755628803" rel="stylesheet"></noscript>
    <link href="/cis580/css/perfect-scrollbar/perfect-scrollbar.min.css?1755628803" rel="stylesheet">
    <link href="/cis580/css/theme.min.css?1755628803" rel="stylesheet">
    <link href="/cis580/css/format-html.min.css?1755628803" rel="stylesheet" id="R-format-style">
    <script>
      window.relearn = window.relearn || {};
      // configuration
      window.relearn.min = `.min`;
      window.relearn.path='\/02-player-input\/05-gamepad-input\/index.html';
      window.relearn.relBasePath='..\/..';
      window.relearn.relBaseUri='..\/..\/..';
      window.relearn.absBaseUri='https:\/\/textbooks.cs.ksu.edu\/cis580';
      window.relearn.disableAnchorCopy=false;
      window.relearn.disableAnchorScrolling=false;
      window.relearn.disableInlineCopyToClipboard=true;
      window.relearn.enableBlockCodeWrap=false;
      // legal
      window.relearn.getItem = (s,n) => {return s.getItem(n)};
      window.relearn.setItem = (s,n,v) => {return s.setItem(n,v)};
      window.relearn.removeItem = (s,n) => {return s.removeItem(n)};
      // translations
      window.T_Copy_to_clipboard = `Copy to clipboard`;
      window.T_Copied_to_clipboard = `Copied to clipboard!`;
      window.T_Copy_link_to_clipboard = `Copy link to clipboard`;
      window.T_Link_copied_to_clipboard = `Copied link to clipboard!`;
      window.T_Reset_view = `Reset view`;
      window.T_View_reset = `View reset!`;
      window.T_No_results_found = `No results found for "{0}"`;
      window.T_N_results_found = `{1} results found for "{0}"`;
      // variant stuff
      window.relearn.themevariants = [ 'light-theme' ];
      window.relearn.customvariantname = "my-custom-variant";
      // [x] russfeld
      window.relearn.writeVariant=false;
      window.relearn.changeVariant = function(variant) {
        var oldVariant = document.documentElement.dataset.rThemeVariant;
        window.relearn.setItem(window.localStorage, window.relearn.absBaseUri + "/variant", variant);
        document.documentElement.dataset.rThemeVariant = variant;
        if (oldVariant != variant) {
          document.dispatchEvent( new CustomEvent('themeVariantLoaded', { detail: { variant, oldVariant } }) );
          window.relearn.markVariant();
        }
      }
      window.relearn.markVariant = function() {
        var variant = window.relearn.getItem(window.localStorage, window.relearn.absBaseUri + "/variant");
        document.querySelectorAll(".R-variantswitcher select").forEach((select) => {select.value = variant;});
      }
      window.relearn.initVariant = function() {
        var variant = window.relearn.getItem(window.localStorage, window.relearn.absBaseUri + "/variant") ?? "";
        if( variant == window.relearn.customvariantname ){
        }else if( !variant || !window.relearn.themevariants.includes(variant) ){
          variant = window.relearn.themevariants[0];
          
          if (window.relearn.writeVariant) {
            window.relearn.setItem(window.localStorage, window.relearn.absBaseUri + "/variant", variant);
          }
        }
        document.documentElement.dataset.rThemeVariant = variant;
      }
      window.relearn.initVariant();
      window.relearn.markVariant();
    </script>
    <link href="/cis580/css/custom.css?1755628803" rel="stylesheet">
  </head>
  <body class="mobile-support html" data-url="/cis580/02-player-input/05-gamepad-input/index.html">
    
    <div id="tele" class="tele mirror">
    
    <div id="R-body" class="default-animation">
      <div id="R-body-overlay"></div>
      
      
      
      <div id="R-main-overlay"></div>
      <main id="R-body-inner" class="highlightable 02-player-input" tabindex="-1">
        <div class="flex-block-wrapper">
<article class="default">
  <header class="headline">
  </header>

<h1 id="gamepad-input">Gamepad Input</h1>

<p>MonoGame handles gamepad input in a similar fashion to Keyboard and Mouse input.  For example, there is a static <a href="https://docs.monogame.net/api/Microsoft.Xna.Framework.Input.GamePad.html" rel="external" target="_blank"><code>GamePad</code></a> class and a <a href="https://docs.monogame.net/api/Microsoft.Xna.Framework.Input.GamePadState.html" rel="external" target="_blank"><code>GamePadState</code></a> struct.</p>
<h2 id="player-indices">Player Indices</h2>
<p>However, XNA was originally designed to work with the XBox 360, which supported up to four players connected through XBox 360 gamepads. Thus, instead of using <code>GamePad.GetState()</code> we would use <code>GamePad.GetState(PlayerIndex playerIndex)</code>, where the <code>PlayerIndex</code> enumeration value corresponded to which player&rsquo;s gamepad we wanted to poll.</p>
<p>However, MonoGame can (in theory) support more than four gamepads, so it also added a <code>GamePad.GetState(int index)</code>.  You can find out how many gamepads are supported on your system with the property <code>GamePad.MaxiumumGamePadCount</code>.</p>
<p>Thus, to get the first gamepad&rsquo;s state, we would:</p>
<div class="highlight" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>    GamePadState currentGamePadState;
</span></span><span style="display:flex;"><span>    GamePadState priorGamePadState;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">override</span> <span style="color:#66d9ef">void</span> Update(GameTime gameTime) 
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        priorGamePadState = currentGamePadState;
</span></span><span style="display:flex;"><span>        currentGamePadState = GamePad.GetState(<span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// TODO: Add your update logic here </span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">base</span>.Update(gameTime);
</span></span><span style="display:flex;"><span>    }</span></span></code></pre></div>
<h2 id="gamepad-capabilities-and-types">GamePad Capabilities and Types</h2>
<p>Also, the XBox controller had a standardized number of buttons and triggers, but MonoGame supports a wider variety of gamepads.  You can check the capabilities of any connected pad with <code>GamePad.GetCapabilities(int index)</code>, which returns a <a href="https://docs.monogame.net/api/Microsoft.Xna.Framework.Input.GamePadCapabilities.html" rel="external" target="_blank"><code>GamePadCapabilities</code></a> struct, i.e.:</p>
<div class="highlight" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>GamePadCapabilities capabilities = GamePad.GetCapabilities(<span style="color:#ae81ff">1</span>);</span></span></code></pre></div>
<p>The <code>GamePadType</code> property is one of the <code>GamePadType</code> enumeration values, which include options like the various Rock band/Guitar hero instruments, dance pads, arcade sticks, flight sticks, and wheels.  Note that each of these types still provide their input through standard button and axis properties.</p>
<p>The various other properties of the <code>GamePadCapabilities</code> are booleans corresponding to different types of buttons pads, and sticks.  You can see them all listed <a href="https://docs.monogame.net/api/Microsoft.Xna.Framework.Input.GamePadCapabilities.html#properties" rel="external" target="_blank">in the documentation</a>.</p>
<h2 id="gamepadstate">GamePadState</h2>
<p>The <code>GamePadState</code> is actually implemented as a partial struct, so additional data can be added based on the platform.  The various buttons, pads, and sticks are broken out into individual sub-structs.</p>
<h4 id="buttons">Buttons</h4>
<p>For example, the <code>GamePadState.Buttons</code> property is a <a href="https://docs.monogame.net/api/Microsoft.Xna.Framework.Input.GamePadButtons.html" rel="external" target="_blank"><code>GamePadButtons</code></a> struct representing the traditional buttons (those that are either pressed or not - A, B, X, Y, Start, Back, Big Button, Left Shoulder, Right Shoulder, Left Stick, Right Stick).  As with the mouse buttons we saw before, these are represented using the <code>ButtonState</code> enum.  Thus, to determine if the A button is pressed, we would use:</p>
<div class="highlight" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(currentGamePadState.Buttons.A == ButtonState.Pressed)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// A button is pressed</span>
</span></span><span style="display:flex;"><span>    }</span></span></code></pre></div>
<p>And to determine if the X button was _just pressed this frame:</p>
<div class="highlight" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(currentGamePadState.Buttons.X == ButtonState.Pressed 
</span></span><span style="display:flex;"><span>    &amp;&amp; priorGamePadState.Buttons.X == ButtonState.Released)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// X button was just pressed this frame</span>
</span></span><span style="display:flex;"><span>    }</span></span></code></pre></div>
<h4 id="dpad">DPad</h4>
<p>The <code>GamePadState.DPad</code> property is a <a href="https://docs.monogame.net/api/Microsoft.Xna.Framework.Input.GamePadButtons.html" rel="external" target="_blank"><code>GamePadDPad</code></a> struct, also composed of <code>ButtonValues</code> for the four directions of the DPad (Up, Down, Left, Right).  I.e. to check if the right direction pad button is pressed:</p>
<div class="highlight" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(currentGamePadState.DPad.Right == ButtonState.Pressed)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Right Dpad button is pressed</span>
</span></span><span style="display:flex;"><span>    }</span></span></code></pre></div>
<h4 id="triggers">Triggers</h4>
<p>The <code>GamePadState.Triggers</code> property is a <a href="https://docs.monogame.net/api/Microsoft.Xna.Framework.Input.GamePadTriggers.html" rel="external" target="_blank"><code>GamePadTriggers</code></a> struct representing the two triggers (Left and Right).  Unlike other buttons, these measure the <em>travel</em>, or the amount of pull that has been applied to them.  Thus, they are represented by a <code>single</code> floating point number between 0 and 1.</p>
<p>To see if the left trigger is pulled back 3/4 of the way, we might use:</p>
<div class="highlight" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(currentGameState.Triggers.Left &gt; <span style="color:#ae81ff">0.75</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Left Trigger is pulled at least 3/4 of the way back</span>
</span></span><span style="display:flex;"><span>    }</span></span></code></pre></div>
<h4 id="thumbsticks">ThumbSticks</h4>
<p>The <code>GamePadState.Thumbsticks</code> property is a <a href="https://docs.monogame.net/api/Microsoft.Xna.Framework.Input.GamePadThumbSticks.html" rel="external" target="_blank"><code>GamePadThumbSticks</code></a> struct representing the two thumbsticks (Left and Right).  These are represented by <code>Vector2</code> values with the <code>X</code> and <code>Y</code> falling between -1 and 1.</p>
<p>Thus, to get where the right thumbstick is pointing, we might use:</p>
<div class="highlight" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>    Vector2 direction = GamePad.Thumbsticks.Right;</span></span></code></pre></div>
<h4 id="isbuttondownisbuttonup">IsButtonDown/IsButtonUp</h4>
<p>The <code>GamePadState</code> also implements convenience functions <code>IsButtonUp(Button button)</code> and <code>IsButtonDown(Button button)</code> that operate like the keyboards&rsquo; equivalents.</p>
<h2 id="vibration">Vibration</h2>
<p>Many gamepads come equipped with two vibration-inducing motors (left and right).  These are exposed through the <code>GamePad.SetVibration(int index, single left, single right)</code> method, where you can set a vibration in either motor using a floating point value between 0 and 1.</p>
<p>Thus, to start vibration in both of player one&rsquo;s gamepad&rsquo;s motors at half-strength, you would use:</p>
<div class="highlight" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>GamePad.SetVibration(<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0.5f</span>. <span style="color:#ae81ff">0.5f</span>);</span></span></code></pre></div>
<p>To stop them you would need to send:</p>
<div class="highlight" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>GamePad.SetVibration(<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>);</span></span></code></pre></div>

  <footer class="footline">
  </footer>
</article>
        </div>
      </main>
      
      
      
    </div>
    <script src="/cis580/js/clipboard/clipboard.min.js?1755628803" defer></script>
    <script src="/cis580/js/perfect-scrollbar/perfect-scrollbar.min.js?1755628803" defer></script>
    <script src="/cis580/js/theme.min.js?1755628803" defer></script>
      
      
      
    </div> 
  <script src="/cis580/js/tele-scroll.min.js?1755628803" defer></script>
  </body>
</html>
