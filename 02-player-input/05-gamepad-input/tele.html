




  
	
	  

  
	
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
		
	  

  
	
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
		
	  

  
	
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
		
	  

  
	
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
		
	  

  
	
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
		
	  

  
	
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
		
	  

  
	
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
		
	  

  
	
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
		
	  

  
	
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
		
	  

  
	
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
		
	  

  
	
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
		
	  

  
	
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
		
	  

  
	
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
		
	  

  
	
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
		
	  

  
	
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
		
	  

  
	
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
		
	  

  
	
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
		
	  

  
	
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
	  

  
	
		
		
<!DOCTYPE html>
<html lang="en-us" dir="ltr" itemscope itemtype="http://schema.org/Article">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.128.0">
    <meta name="generator" content="Relearn 6.0.0">
    <meta name="description" content="MonoGame handles gamepad input in a similar fashion to Keyboard and Mouse input. For example, there is a static GamePad class and a GamePadState struct.
Player Indices However, XNA was originally designed to work with the XBox 360, which supported up to four players connected through XBox 360 gamepads. Thus, instead of using GamePad.GetState() we would use GamePad.GetState(PlayerIndex playerIndex), where the PlayerIndex enumeration value corresponded to which player’s gamepad we wanted to poll.">
    <meta name="author" content="Nathan Bean">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Gamepad Input :: K-State CIS 580 Textbook">
    <meta name="twitter:description" content="MonoGame handles gamepad input in a similar fashion to Keyboard and Mouse input. For example, there is a static GamePad class and a GamePadState struct.
Player Indices However, XNA was originally designed to work with the XBox 360, which supported up to four players connected through XBox 360 gamepads. Thus, instead of using GamePad.GetState() we would use GamePad.GetState(PlayerIndex playerIndex), where the PlayerIndex enumeration value corresponded to which player’s gamepad we wanted to poll.">
    <meta property="og:url" content="https://textbooks.cs.ksu.edu/cis580/02-player-input/05-gamepad-input/">
    <meta property="og:site_name" content="K-State CIS 580 Textbook">
    <meta property="og:title" content="Gamepad Input :: K-State CIS 580 Textbook">
    <meta property="og:description" content="MonoGame handles gamepad input in a similar fashion to Keyboard and Mouse input. For example, there is a static GamePad class and a GamePadState struct.
Player Indices However, XNA was originally designed to work with the XBox 360, which supported up to four players connected through XBox 360 gamepads. Thus, instead of using GamePad.GetState() we would use GamePad.GetState(PlayerIndex playerIndex), where the PlayerIndex enumeration value corresponded to which player’s gamepad we wanted to poll.">
    <meta property="og:locale" content="en-us">
    <meta property="og:type" content="article">
    <meta property="article:section" content="Player Input">
    <meta property="article:published_time" content="2018-08-24T10:53:26-05:00">
    <meta property="article:modified_time" content="2021-01-27T16:28:21-06:00">
    <meta itemprop="name" content="Gamepad Input :: K-State CIS 580 Textbook">
    <meta itemprop="description" content="MonoGame handles gamepad input in a similar fashion to Keyboard and Mouse input. For example, there is a static GamePad class and a GamePadState struct.
Player Indices However, XNA was originally designed to work with the XBox 360, which supported up to four players connected through XBox 360 gamepads. Thus, instead of using GamePad.GetState() we would use GamePad.GetState(PlayerIndex playerIndex), where the PlayerIndex enumeration value corresponded to which player’s gamepad we wanted to poll.">
    <meta itemprop="datePublished" content="2018-08-24T10:53:26-05:00">
    <meta itemprop="dateModified" content="2021-01-27T16:28:21-06:00">
    <meta itemprop="wordCount" content="647">
    <title>Gamepad Input :: K-State CIS 580 Textbook</title>
    <link href="https://textbooks.cs.ksu.edu/cis580/02-player-input/05-gamepad-input/" rel="canonical" type="text/html" title="Gamepad Input :: K-State CIS 580 Textbook">
    <link href="/cis580/02-player-input/05-gamepad-input/index.xml" rel="alternate" type="application/rss+xml" title="Gamepad Input :: K-State CIS 580 Textbook">
    <link href="/cis580/02-player-input/05-gamepad-input/index.print.html" rel="alternate" type="text/html" title="Gamepad Input :: K-State CIS 580 Textbook">
    <link href="/cis580/02-player-input/05-gamepad-input/embed.html" rel="alternate" type="text/html" title="Gamepad Input :: K-State CIS 580 Textbook">
    <link href="/cis580/css/fontawesome-all.min.css?1723670681" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/cis580/css/fontawesome-all.min.css?1723670681" rel="stylesheet"></noscript>
    <link href="/cis580/css/nucleus.css?1723670681" rel="stylesheet">
    <link href="/cis580/css/auto-complete.css?1723670681" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/cis580/css/auto-complete.css?1723670681" rel="stylesheet"></noscript>
    <link href="/cis580/css/perfect-scrollbar.min.css?1723670681" rel="stylesheet">
    <link href="/cis580/css/fonts.css?1723670681" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/cis580/css/fonts.css?1723670681" rel="stylesheet"></noscript>
    <link href="/cis580/css/theme.css?1723670681" rel="stylesheet">
    <link href="/cis580/css/theme-auto.css?1723670681" rel="stylesheet" id="R-variant-style">
    <link href="/cis580/css/chroma-auto.css?1723670681" rel="stylesheet" id="R-variant-chroma-style">
    <link href="/cis580/css/variant.css?1723670681" rel="stylesheet">
    <link href="/cis580/css/print.css?1723670681" rel="stylesheet" media="print">
    <script src="/cis580/js/variant.js?1723670681"></script>
    <script>
      window.relearn = window.relearn || {};
      window.relearn.relBasePath='..\/..';
      window.relearn.relBaseUri='..\/..\/..';
      window.relearn.absBaseUri='https:\/\/textbooks.cs.ksu.edu\/cis580';
      window.index_js_url="/cis580/index.search.js";
      // variant stuff
      window.variants && variants.init( [ 'auto', 'light-theme', 'dark-theme' ] );
      // translations
      window.T_Copy_to_clipboard = `Copy to clipboard`;
      window.T_Copied_to_clipboard = `Copied to clipboard!`;
      window.T_Copy_link_to_clipboard = `Copy link to clipboard`;
      window.T_Link_copied_to_clipboard = `Copied link to clipboard!`;
      window.T_Reset_view = `Reset view`;
      window.T_View_reset = `View reset!`;
      window.T_No_results_found = `No results found for "{0}"`;
      window.T_N_results_found = `{1} results found for "{0}"`;
    </script>
    
    <link href="/cis580/css/custom.css?1723670681" rel="stylesheet">
  </head>
  <body class="mobile-support tele disableInlineCopyToClipboard" data-url="/cis580/02-player-input/05-gamepad-input/">
    
    <div id="tele" class="tele mirror">
    
    <div id="R-body" class="default-animation">
      <div id="R-body-overlay"></div>
      
      
      
      <div id="R-main-overlay"></div>
      <main id="R-body-inner" class="highlightable default" tabindex="-1">
        <div class="flex-block-wrapper">
          <article class="default">
            <header class="headline">
            </header>

<h1 id="gamepad-input">Gamepad Input</h1>

<p>MonoGame handles gamepad input in a similar fashion to Keyboard and Mouse input.  For example, there is a static <a href="https://docs.monogame.net/api/Microsoft.Xna.Framework.Input.GamePad.html" rel="external" target="_blank"><code>GamePad</code></a> class and a <a href="https://docs.monogame.net/api/Microsoft.Xna.Framework.Input.GamePadState.html" rel="external" target="_blank"><code>GamePadState</code></a> struct.</p>
<h2 id="player-indices">Player Indices</h2>
<p>However, XNA was originally designed to work with the XBox 360, which supported up to four players connected through XBox 360 gamepads. Thus, instead of using <code>GamePad.GetState()</code> we would use <code>GamePad.GetState(PlayerIndex playerIndex)</code>, where the <code>PlayerIndex</code> enumeration value corresponded to which player&rsquo;s gamepad we wanted to poll.</p>
<p>However, MonoGame can (in theory) support more than four gamepads, so it also added a <code>GamePad.GetState(int index)</code>.  You can find out how many gamepads are supported on your system with the property <code>GamePad.MaxiumumGamePadCount</code>.</p>
<p>Thus, to get the first gamepad&rsquo;s state, we would:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl">    <span class="n">GamePadState</span> <span class="n">currentGamePadState</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">GamePadState</span> <span class="n">priorGamePadState</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kd">override</span> <span class="k">void</span> <span class="n">Update</span><span class="p">(</span><span class="n">GameTime</span> <span class="n">gameTime</span><span class="p">)</span> 
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">priorGamePadState</span> <span class="p">=</span> <span class="n">currentGamePadState</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="n">currentGamePadState</span> <span class="p">=</span> <span class="n">GamePad</span><span class="p">.</span><span class="n">GetState</span><span class="p">(</span><span class="m">1</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1">// TODO: Add your update logic here </span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="k">base</span><span class="p">.</span><span class="n">Update</span><span class="p">(</span><span class="n">gameTime</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span></span></span></code></pre></div><h2 id="gamepad-capabilities-and-types">GamePad Capabilities and Types</h2>
<p>Also, the XBox controller had a standardized number of buttons and triggers, but MonoGame supports a wider variety of gamepads.  You can check the capabilities of any connected pad with <code>GamePad.GetCapabilities(int index)</code>, which returns a <a href="https://docs.monogame.net/api/Microsoft.Xna.Framework.Input.GamePadCapabilities.html" rel="external" target="_blank"><code>GamePadCapabilities</code></a> struct, i.e.:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="n">GamePadCapabilities</span> <span class="n">capabilities</span> <span class="p">=</span> <span class="n">GamePad</span><span class="p">.</span><span class="n">GetCapabilities</span><span class="p">(</span><span class="m">1</span><span class="p">);</span></span></span></code></pre></div><p>The <code>GamePadType</code> property is one of the <code>GamePadType</code> enumeration values, which include options like the various Rock band/Guitar hero instruments, dance pads, arcade sticks, flight sticks, and wheels.  Note that each of these types still provide their input through standard button and axis properties.</p>
<p>The various other properties of the <code>GamePadCapabilities</code> are booleans corresponding to different types of buttons pads, and sticks.  You can see them all listed <a href="https://docs.monogame.net/api/Microsoft.Xna.Framework.Input.GamePadCapabilities.html#properties" rel="external" target="_blank">in the documentation</a>.</p>
<h2 id="gamepadstate">GamePadState</h2>
<p>The <code>GamePadState</code> is actually implemented as a partial struct, so additional data can be added based on the platform.  The various buttons, pads, and sticks are broken out into individual sub-structs.</p>
<h4 id="buttons">Buttons</h4>
<p>For example, the <code>GamePadState.Buttons</code> property is a <a href="https://docs.monogame.net/api/Microsoft.Xna.Framework.Input.GamePadButtons.html" rel="external" target="_blank"><code>GamePadButtons</code></a> struct representing the traditional buttons (those that are either pressed or not - A, B, X, Y, Start, Back, Big Button, Left Shoulder, Right Shoulder, Left Stick, Right Stick).  As with the mouse buttons we saw before, these are represented using the <code>ButtonState</code> enum.  Thus, to determine if the A button is pressed, we would use:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl">    <span class="k">if</span><span class="p">(</span><span class="n">currentGamePadState</span><span class="p">.</span><span class="n">Buttons</span><span class="p">.</span><span class="n">A</span> <span class="p">==</span> <span class="n">ButtonState</span><span class="p">.</span><span class="n">Pressed</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// A button is pressed</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span></span></span></code></pre></div><p>And to determine if the X button was _just pressed this frame:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl">    <span class="k">if</span><span class="p">(</span><span class="n">currentGamePadState</span><span class="p">.</span><span class="n">Buttons</span><span class="p">.</span><span class="n">X</span> <span class="p">==</span> <span class="n">ButtonState</span><span class="p">.</span><span class="n">Pressed</span> 
</span></span><span class="line"><span class="cl">    <span class="p">&amp;&amp;</span> <span class="n">priorGamePadState</span><span class="p">.</span><span class="n">Buttons</span><span class="p">.</span><span class="n">X</span> <span class="p">==</span> <span class="n">ButtonState</span><span class="p">.</span><span class="n">Released</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// X button was just pressed this frame</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span></span></span></code></pre></div><h4 id="dpad">DPad</h4>
<p>The <code>GamePadState.DPad</code> property is a <a href="https://docs.monogame.net/api/Microsoft.Xna.Framework.Input.GamePadButtons.html" rel="external" target="_blank"><code>GamePadDPad</code></a> struct, also composed of <code>ButtonValues</code> for the four directions of the DPad (Up, Down, Left, Right).  I.e. to check if the right direction pad button is pressed:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl">    <span class="k">if</span><span class="p">(</span><span class="n">currentGamePadState</span><span class="p">.</span><span class="n">DPad</span><span class="p">.</span><span class="n">Right</span> <span class="p">==</span> <span class="n">ButtonState</span><span class="p">.</span><span class="n">Pressed</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// Right Dpad button is pressed</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span></span></span></code></pre></div><h4 id="triggers">Triggers</h4>
<p>The <code>GamePadState.Triggers</code> property is a <a href="https://docs.monogame.net/api/Microsoft.Xna.Framework.Input.GamePadTriggers.html" rel="external" target="_blank"><code>GamePadTriggers</code></a> struct representing the two triggers (Left and Right).  Unlike other buttons, these measure the <em>travel</em>, or the amount of pull that has been applied to them.  Thus, they are represented by a <code>single</code> floating point number between 0 and 1.</p>
<p>To see if the left trigger is pulled back 3/4 of the way, we might use:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl">    <span class="k">if</span><span class="p">(</span><span class="n">currentGameState</span><span class="p">.</span><span class="n">Triggers</span><span class="p">.</span><span class="n">Left</span> <span class="p">&gt;</span> <span class="m">0.75</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// Left Trigger is pulled at least 3/4 of the way back</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span></span></span></code></pre></div><h4 id="thumbsticks">ThumbSticks</h4>
<p>The <code>GamePadState.Thumbsticks</code> property is a <a href="https://docs.monogame.net/api/Microsoft.Xna.Framework.Input.GamePadThumbSticks.html" rel="external" target="_blank"><code>GamePadThumbSticks</code></a> struct representing the two thumbsticks (Left and Right).  These are represented by <code>Vector2</code> values with the <code>X</code> and <code>Y</code> falling between -1 and 1.</p>
<p>Thus, to get where the right thumbstick is pointing, we might use:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl">    <span class="n">Vector2</span> <span class="n">direction</span> <span class="p">=</span> <span class="n">GamePad</span><span class="p">.</span><span class="n">Thumbsticks</span><span class="p">.</span><span class="n">Right</span><span class="p">;</span></span></span></code></pre></div><h4 id="isbuttondownisbuttonup">IsButtonDown/IsButtonUp</h4>
<p>The <code>GamePadState</code> also implements convenience functions <code>IsButtonUp(Button button)</code> and <code>IsButtonDown(Button button)</code> that operate like the keyboards&rsquo; equivalents.</p>
<h2 id="vibration">Vibration</h2>
<p>Many gamepads come equipped with two vibration-inducing motors (left and right).  These are exposed through the <code>GamePad.SetVibration(int index, single left, single right)</code> method, where you can set a vibration in either motor using a floating point value between 0 and 1.</p>
<p>Thus, to start vibration in both of player one&rsquo;s gamepad&rsquo;s motors at half-strength, you would use:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="n">GamePad</span><span class="p">.</span><span class="n">SetVibration</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="m">0.5f</span><span class="p">.</span> <span class="m">0.5f</span><span class="p">);</span></span></span></code></pre></div><p>To stop them you would need to send:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="n">GamePad</span><span class="p">.</span><span class="n">SetVibration</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="m">0</span><span class="p">,</span> <span class="m">0</span><span class="p">);</span></span></span></code></pre></div>
            <footer class="footline">
              
              
              
              
            </footer>
          </article>
</div>
</main>
</div>

</div>




<script src="/cis580/js/clipboard.min.js?1723670681" defer></script>
<script src="/cis580/js/perfect-scrollbar.min.js?1723670681" defer></script>
<script src="/cis580/js/theme.js?1723670681" defer></script>

<script src="/cis580/js/tele-scroll.js?1723670681" defer></script>

</body>
</html>
