




	
	
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.117.0">
    <meta name="generator" content="Relearn 5.18.0">
    <meta name="description" content="K-State CIS 580 Textbook">
    <meta name="author" content="Nathan H. Bean">
    <title>Gamepad Input :: K-State CIS 580 Textbook</title>
    <link href="https://ksu-cs-textbooks.github.io/cis580/02-player-input/05-gamepad-input/index.html" rel="canonical" type="text/html" title="Gamepad Input :: K-State CIS 580 Textbook">
    <link href="https://ksu-cs-textbooks.github.io/cis580/02-player-input/05-gamepad-input/index.xml" rel="alternate" type="application/rss+xml" title="Gamepad Input :: K-State CIS 580 Textbook">
    <link href="https://ksu-cs-textbooks.github.io/cis580/02-player-input/05-gamepad-input/tele.html" rel="alternate" type="text/html" title="Gamepad Input :: K-State CIS 580 Textbook">
    <link href="https://ksu-cs-textbooks.github.io/cis580/02-player-input/05-gamepad-input/embed.html" rel="alternate" type="text/html" title="Gamepad Input :: K-State CIS 580 Textbook">
    <!-- https://github.com/filamentgroup/loadCSS/blob/master/README.md#how-to-use -->
    <link href="https://ksu-cs-textbooks.github.io/cis580/css/fontawesome-all.min.css?1691771331" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="https://ksu-cs-textbooks.github.io/cis580/css/fontawesome-all.min.css?1691771331" rel="stylesheet"></noscript>
    <link href="https://ksu-cs-textbooks.github.io/cis580/css/nucleus.css?1691771331" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cis580/css/auto-complete.css?1691771331" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="https://ksu-cs-textbooks.github.io/cis580/css/auto-complete.css?1691771331" rel="stylesheet"></noscript>
    <link href="https://ksu-cs-textbooks.github.io/cis580/css/perfect-scrollbar.min.css?1691771331" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cis580/css/fonts.css?1691771331" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="https://ksu-cs-textbooks.github.io/cis580/css/fonts.css?1691771331" rel="stylesheet"></noscript>
    <link href="https://ksu-cs-textbooks.github.io/cis580/css/theme.css?1691771331" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cis580/css/theme-auto.css?1691771331" rel="stylesheet" id="variant-style">
    <link href="https://ksu-cs-textbooks.github.io/cis580/css/variant.css?1691771331" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cis580/css/print.css?1691771331" rel="stylesheet" media="print">
    <link href="https://ksu-cs-textbooks.github.io/cis580/css/format-print.css?1691771331" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cis580/css/ie.css?1691771331" rel="stylesheet">
    <script src="https://ksu-cs-textbooks.github.io/cis580/js/url.js?1691771331"></script>
    <script src="https://ksu-cs-textbooks.github.io/cis580/js/variant.js?1691771331"></script>
    <script>
      // hack to let hugo tell us how to get to the root when using relativeURLs, it needs to be called *url= for it to do its magic:
      // https://github.com/gohugoio/hugo/blob/145b3fcce35fbac25c7033c91c1b7ae6d1179da8/transform/urlreplacers/absurlreplacer.go#L72
      window.index_js_url="https://ksu-cs-textbooks.github.io/cis580/index.search.js";
      var root_url="https://ksu-cs-textbooks.github.io/cis580/";
      var baseUri=root_url.replace(/\/$/, '');
      // translations
      window.T_Copy_to_clipboard = 'Copy to clipboard';
      window.T_Copied_to_clipboard = 'Copied to clipboard!';
      window.T_Copy_link_to_clipboard = 'Copy link to clipboard';
      window.T_Link_copied_to_clipboard = 'Copied link to clipboard!';
      window.T_No_results_found = 'No results found for \u0022{0}\u0022';
      window.T_N_results_found = '{1} results found for \u0022{0}\u0022';
      // some further base stuff
      var baseUriFull='https:\/\/ksu-cs-textbooks.github.io\/cis580/';
      window.variants && variants.init( [ 'auto', 'light-theme', 'dark-theme' ] );
    </script>
    
    <link href="https://ksu-cs-textbooks.github.io/cis580/css/custom.css?1691771331" rel="stylesheet">

  </head>
  <body class="mobile-support print disableInlineCopyToClipboard" data-url="https://ksu-cs-textbooks.github.io/cis580/02-player-input/05-gamepad-input/index.html">
    <div id="body" class="default-animation">
      <div id="sidebar-overlay"></div>
      <div id="toc-overlay"></div>
      <nav id="topbar" class="highlightable">
        <div>
          <div id="top-tele-link">
            <a class="print-link" title='Teleprompter View' href="https://ksu-cs-textbooks.github.io/cis580/02-player-input/05-gamepad-input/tele.html">
              <i class="fas fa-tv fa-fw"></i>
            </a>
          </div>
          <div id="top-embed-link">
            <a class="print-link" title='Embeddable Version' href="https://ksu-cs-textbooks.github.io/cis580/02-player-input/05-gamepad-input/embed.html">
              <i class="fas fa-expand-arrows-alt fa-fw"></i>
            </a>
          </div>
          <div id="breadcrumbs">
            <span id="sidebar-toggle-span">
              <a href="#" id="sidebar-toggle" class="topbar-link" title='Menu (CTRL+ALT+n)'><i class="fas fa-bars fa-fw"></i></a>
            </span>
            <ol class="links" itemscope itemtype="http://schema.org/BreadcrumbList">
              <li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><a itemprop="item" href="https://ksu-cs-textbooks.github.io/cis580/index.html"><span itemprop="name">CIS 580: Foundations of Game Programming</span></a><meta itemprop="position" content="1"> &gt; </li>
              <li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><a itemprop="item" href="https://ksu-cs-textbooks.github.io/cis580/02-player-input/index.html"><span itemprop="name">Player Input</span></a><meta itemprop="position" content="2"> &gt; </li>
              <li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><span itemprop="name">Gamepad Input</span><meta itemprop="position" content="3"></li>
            </ol>
          </div>
        </div>
      </nav>
      <main id="body-inner" class="highlightable default" tabindex="-1">
        <div class="flex-block-wrapper">
          <article class="default">
            <header class="headline">
            </header>
<h1 id="gamepad-input">Gamepad Input</h1>

<p>MonoGame handles gamepad input in a similar fashion to Keyboard and Mouse input.  For example, there is a static <a href="https://docs.monogame.net/api/Microsoft.Xna.Framework.Input.GamePad.html" target="_blank"><code>GamePad</code></a>
 class and a <a href="https://docs.monogame.net/api/Microsoft.Xna.Framework.Input.GamePadState.html" target="_blank"><code>GamePadState</code></a>
 struct.</p>
<h2 id="player-indices">Player Indices</h2>
<p>However, XNA was originally designed to work with the XBox 360, which supported up to four players connected through XBox 360 gamepads. Thus, instead of using <code>GamePad.GetState()</code> we would use <code>GamePad.GetState(PlayerIndex playerIndex)</code>, where the <code>PlayerIndex</code> enumeration value corresponded to which player&rsquo;s gamepad we wanted to poll.</p>
<p>However, MonoGame can (in theory) support more than four gamepads, so it also added a <code>GamePad.GetState(int index)</code>.  You can find out how many gamepads are supported on your system with the property <code>GamePad.MaxiumumGamePadCount</code>.</p>
<p>Thus, to get the first gamepad&rsquo;s state, we would:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>    GamePadState currentGamePadState;
</span></span><span style="display:flex;"><span>    GamePadState priorGamePadState;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">override</span> <span style="color:#66d9ef">void</span> Update(GameTime gameTime) 
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        priorGamePadState = currentGamePadState;
</span></span><span style="display:flex;"><span>        currentGamePadState = GamePad.GetState(<span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// TODO: Add your update logic here </span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">base</span>.Update(gameTime);
</span></span><span style="display:flex;"><span>    }</span></span></code></pre></div><h2 id="gamepad-capabilities-and-types">GamePad Capabilities and Types</h2>
<p>Also, the XBox controller had a standardized number of buttons and triggers, but MonoGame supports a wider variety of gamepads.  You can check the capabilities of any connected pad with <code>GamePad.GetCapabilities(int index)</code>, which returns a <a href="https://docs.monogame.net/api/Microsoft.Xna.Framework.Input.GamePadCapabilities.html" target="_blank"><code>GamePadCapabilities</code></a>
 struct, i.e.:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>GamePadCapabilities capabilities = GamePad.GetCapabilities(<span style="color:#ae81ff">1</span>);</span></span></code></pre></div><p>The <code>GamePadType</code> property is one of the <code>GamePadType</code> enumeration values, which include options like the various Rock band/Guitar hero instruments, dance pads, arcade sticks, flight sticks, and wheels.  Note that each of these types still provide their input through standard button and axis properties.</p>
<p>The various other properties of the <code>GamePadCapabilities</code> are booleans corresponding to different types of buttons pads, and sticks.  You can see them all listed <a href="https://docs.monogame.net/api/Microsoft.Xna.Framework.Input.GamePadCapabilities.html#properties" target="_blank">in the documentation</a>
.</p>
<h2 id="gamepadstate">GamePadState</h2>
<p>The <code>GamePadState</code> is actually implemented as a partial struct, so additional data can be added based on the platform.  The various buttons, pads, and sticks are broken out into individual sub-structs.</p>
<h4 id="buttons">Buttons</h4>
<p>For example, the <code>GamePadState.Buttons</code> property is a <a href="https://docs.monogame.net/api/Microsoft.Xna.Framework.Input.GamePadButtons.html" target="_blank"><code>GamePadButtons</code></a>
 struct representing the traditional buttons (those that are either pressed or not - A, B, X, Y, Start, Back, Big Button, Left Shoulder, Right Shoulder, Left Stick, Right Stick).  As with the mouse buttons we saw before, these are represented using the <code>ButtonState</code> enum.  Thus, to determine if the A button is pressed, we would use:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(currentGamePadState.Buttons.A == ButtonState.Pressed)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// A button is pressed</span>
</span></span><span style="display:flex;"><span>    }</span></span></code></pre></div><p>And to determine if the X button was _just pressed this frame:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(currentGamePadState.Buttons.X == ButtonState.Pressed 
</span></span><span style="display:flex;"><span>    &amp;&amp; priorGamePadState.Buttons.X == ButtonState.Released)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// X button was just pressed this frame</span>
</span></span><span style="display:flex;"><span>    }</span></span></code></pre></div><h4 id="dpad">DPad</h4>
<p>The <code>GamePadState.DPad</code> property is a <a href="https://docs.monogame.net/api/Microsoft.Xna.Framework.Input.GamePadButtons.html" target="_blank"><code>GamePadDPad</code></a>
 struct, also composed of <code>ButtonValues</code> for the four directions of the DPad (Up, Down, Left, Right).  I.e. to check if the right direction pad button is pressed:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(currentGamePadState.DPad.Right == ButtonState.Pressed)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Right Dpad button is pressed</span>
</span></span><span style="display:flex;"><span>    }</span></span></code></pre></div><h4 id="triggers">Triggers</h4>
<p>The <code>GamePadState.Triggers</code> property is a <a href="https://docs.monogame.net/api/Microsoft.Xna.Framework.Input.GamePadTriggers.html" target="_blank"><code>GamePadTriggers</code></a>
 struct representing the two triggers (Left and Right).  Unlike other buttons, these measure the <em>travel</em>, or the amount of pull that has been applied to them.  Thus, they are represented by a <code>single</code> floating point number between 0 and 1.</p>
<p>To see if the left trigger is pulled back 3/4 of the way, we might use:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(currentGameState.Triggers.Left &gt; <span style="color:#ae81ff">0.75</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Left Trigger is pulled at least 3/4 of the way back</span>
</span></span><span style="display:flex;"><span>    }</span></span></code></pre></div><h4 id="thumbsticks">ThumbSticks</h4>
<p>The <code>GamePadState.Thumbsticks</code> property is a <a href="https://docs.monogame.net/api/Microsoft.Xna.Framework.Input.GamePadThumbSticks.html" target="_blank"><code>GamePadThumbSticks</code></a>
 struct representing the two thumbsticks (Left and Right).  These are represented by <code>Vector2</code> values with the <code>X</code> and <code>Y</code> falling between -1 and 1.</p>
<p>Thus, to get where the right thumbstick is pointing, we might use:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>    Vector2 direction = GamePad.Thumbsticks.Right;</span></span></code></pre></div><h4 id="isbuttondownisbuttonup">IsButtonDown/IsButtonUp</h4>
<p>The <code>GamePadState</code> also implements convenience functions <code>IsButtonUp(Button button)</code> and <code>IsButtonDown(Button button)</code> that operate like the keyboards&rsquo; equivalents.</p>
<h2 id="vibration">Vibration</h2>
<p>Many gamepads come equipped with two vibration-inducing motors (left and right).  These are exposed through the <code>GamePad.SetVibration(int index, single left, single right)</code> method, where you can set a vibration in either motor using a floating point value between 0 and 1.</p>
<p>Thus, to start vibration in both of player one&rsquo;s gamepad&rsquo;s motors at half-strength, you would use:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>GamePad.SetVibration(<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0.5f</span>. <span style="color:#ae81ff">0.5f</span>);</span></span></code></pre></div><p>To stop them you would need to send:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>GamePad.SetVibration(<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>);</span></span></code></pre></div>
            <footer class="footline">

            </footer>
          </article>


        </div>
      </main>
    
<div class="git-footer">
<p class="theme-version-footer">5.18.0</p>
<p>Last modified by: 
            <i class='fas fa-user'></i> Nathan Bean
            <i class='fas fa-calendar'></i> <a href="https://gitlab.cs.ksu.edu/cs-textbooks/cis580-textbook/-/commit/4a84efca6e022e22825d178eac33126988e4b8fd">Jan 27, 2021</a>
</p>
</div>

    
    </div>
    <script src="https://ksu-cs-textbooks.github.io/cis580/js/clipboard.min.js?1691771331" defer></script>
    <script src="https://ksu-cs-textbooks.github.io/cis580/js/perfect-scrollbar.min.js?1691771331" defer></script>
    <script src="https://ksu-cs-textbooks.github.io/cis580/js/theme.js?1691771331" defer></script>
  </body>
</html>
